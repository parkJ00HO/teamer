/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/8.5.60
 * Generated at: 2022-01-07 02:52:37 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.sql.*;
import java.util.*;
import java.util.Date;
import com.teamer.vo.*;
import com.oreilly.servlet.MultipartRequest;
import com.oreilly.servlet.multipart.DefaultFileRenamePolicy;
import java.io.File;

public final class mainpage_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("java.sql");
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("java.util");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_packages.add("com.teamer.vo");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("com.oreilly.servlet.multipart.DefaultFileRenamePolicy");
    _jspx_imports_classes.add("java.util.Date");
    _jspx_imports_classes.add("com.oreilly.servlet.MultipartRequest");
    _jspx_imports_classes.add("java.io.File");
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSP들은 오직 GET, POST 또는 HEAD 메소드만을 허용합니다. Jasper는 OPTIONS 메소드 또한 허용합니다.");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("<meta charset=\"UTF-8\">\r\n");
      out.write("<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n");
      out.write("<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n");
      out.write("<title>TEAMER</title>\r\n");
      out.write("<script src=\"https://code.jquery.com/jquery-3.6.0.min.js\" integrity=\"sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=\" crossorigin=\"anonymous\"></script>\r\n");
      out.write("<script src=\"https://code.jquery.com/ui/1.13.0/jquery-ui.js\"></script>\r\n");
      out.write("<script src=\"./js/mainpage.js\" type=\"text/javascript\"></script>\r\n");
      out.write("<link rel=\"icon\" href=\"/images/favicon.ico\" type=\"image/x-icon\"/>\r\n");
      out.write("<link rel=\"shortcut icon\" href=\"/images/favicon.ico\" type=\"image/x-icon\"/>\r\n");
      out.write("<link rel=\"stylesheet\" href=\"./css/mainpage4.css?after4\" type=\"text/css\"/>\r\n");
      out.write("<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css\"/>\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("<script>\r\n");
      out.write("var dragged;\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("\tfunction sendPost(url, params) {\t\t\t\t// params -> var dog = {name: \"식빵\", family: \"웰시코기\", age: 1, weight: 2.14}; // 자바스크립트 객체\r\n");
      out.write("\t\tvar form = document.createElement('form');\r\n");
      out.write("\t    form.setAttribute('method', 'get'); \r\n");
      out.write("\t\tform.setAttribute('action', url);\r\n");
      out.write("\t\tdocument.charset = \"utf-8\";\r\n");
      out.write("\t\tfor(var key in params) {\r\n");
      out.write("\t\t\tvar hiddenField = document.createElement('input');\r\n");
      out.write("\t\t\thiddenField.setAttribute('type', 'hidden');\r\n");
      out.write("\t\t\thiddenField.setAttribute('name', key);\r\n");
      out.write("\t\t\thiddenField.setAttribute('value', params[key]);\r\n");
      out.write("\t\t\tform.appendChild(hiddenField);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tdocument.body.appendChild(form);\r\n");
      out.write("\t\tform.submit();\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t$(function() {\r\n");
      out.write("\t\t$(\"input[type='submit']\").click(function() {\r\n");
      out.write("\t\t\tvar team_domain = $(this).parent().children(\"input[type='hidden']\").eq(0).val();\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t$(\".teamchoose_jointeam\").click(function() {\r\n");
      out.write("\t//\t\tvar team_domain = $(this).parent().children(\"input[type='hidden']\").eq(0).val();\r\n");
      out.write("\t\t\tvar team_domain = $(this).parent().find(\".teamchoose_jabcho_domain\").text().trim();  // prop(\"tagName\");\r\n");
      out.write("\t\t\t//alert(team_domain);\r\n");
      out.write("\t\t\tvar team_owner = $(this).parent().find(\".teamchoose_owner_loginEmail\").text().trim();\r\n");
      out.write("\t\t\t//alert(team_owner);\r\n");
      out.write("\t\t\tvar team_data = {domain : team_domain, owner : team_owner };\r\n");
      out.write("\t\t\tsendPost(\"mainpage.jsp\", team_data);\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$(\".teamchange_list1\").click(function() {\r\n");
      out.write("\t\t\tvar domain = $(this).find(\".domain\").text().trim();   // .prop(\"tagName\");\r\n");
      out.write("\t\t});\r\n");
      out.write("\t});  \r\n");
      out.write("\t\t\r\n");
      out.write("\r\n");

	request.setCharacterEncoding("UTF-8");
	String domain = request.getParameter("domain");
	String owner = request.getParameter("owner");
	System.out.println(owner + " ////" + domain);
	String loginEmail  = (String)(session.getAttribute("login_id")); 
	String p_image_change = request.getParameter("p_image_change");
	
	String driver = "oracle.jdbc.driver.OracleDriver";
	String url = "jdbc:oracle:thin:@localhost:1521:xe";
	String db_id = "topic12";
	String db_pw = "user1234";
	
	
	String t_name = "";
	String t_index = "";
	
	Connection conn = null;
	try {
		Class.forName(driver);
		conn = DriverManager.getConnection(url, db_id, db_pw);
	} catch(Exception e) {   // ClassNotFoundException, SQLException
		e.printStackTrace();
	}
	
	ArrayList<teamlistVO> list2 = new ArrayList<teamlistVO>(); 
	
	String sql = "SELECT T_NAME,T_INDEX FROM TEAMLIST WHERE T_DOMAIN = ?";
	PreparedStatement pstmt = conn.prepareStatement(sql);
	pstmt.setString(1, domain);
	ResultSet rs = pstmt.executeQuery();
	while(rs.next()){
		t_name = rs.getString("T_NAME");
		t_index = rs.getString("T_INDEX");
	}
	
	sql = "SELECT T_NAME, T_DOMAIN FROM TEAMLIST WHERE T_EMAIL LIKE ?";
	PreparedStatement pstmt2 = conn.prepareStatement(sql);
	pstmt2.setString(1, "%" + loginEmail +"%"); 
	ResultSet rs1=pstmt2.executeQuery(); 
	String t_name2=null;
	String t_domain2=null;
	while(rs1.next()) { 
		t_name2=rs1.getString("t_name"); 
		t_domain2=rs1.getString("t_domain"); 
		list2.add(new teamlistVO(t_name2, t_domain2));
	} 
	
	sql = "SELECT * FROM MEMBERS WHERE MEM_EMAIL = ?";
	PreparedStatement pstmt3 = conn.prepareStatement(sql);
	pstmt3.setString(1,loginEmail);
	ResultSet rs3 = pstmt3.executeQuery();
	String profile_name = null;
	if(rs3.next()){
		profile_name = rs3.getString("MEM_NAME"); 
	}
	
	sql = "SELECT * FROM PROFILE WHERE P_EMAIL = ? AND P_T_INDEX = ?";
	PreparedStatement pstmt4 = conn.prepareStatement(sql);
	pstmt4.setString(1, loginEmail);
	pstmt4.setString(2, t_index);
	ResultSet rs4 = pstmt4.executeQuery(); 
	String p_state = "";
	String p_pronounce = "";
	String p_statemessage = ""; 
	String p_department = null; 
	String p_position = null; 
	String p_email = null; 
	String p_absence = null;
	String p_image = null;
	String p_t_index = null;
	String p_phone = null;
	String p_birth = null;
	if(rs4.next()){
		p_state = rs4.getString("p_state");
		p_pronounce = rs4.getString("p_pronounce");
		p_statemessage = rs4.getString("p_statemessage");
		p_department = rs4.getString("p_department");
		p_position = rs4.getString("p_position");
		p_email = rs4.getString("p_email");
		p_absence = rs4.getString("p_absence");
		p_image = rs4.getString("p_image");
		p_t_index = rs4.getString("p_t_index");
		p_phone = rs4.getString("p_phone");
		p_birth = rs4.getString("p_birth");
	}
	
	ArrayList<profileVO> profileList = new ArrayList<profileVO>(); 
	sql = "SELECT * FROM PROFILE WHERE P_T_INDEX = ?";
	PreparedStatement pstmt5 = conn.prepareStatement(sql);
	pstmt5.setString(1, t_index);

	ResultSet rs5 = pstmt5.executeQuery(); 
	String p_state2 = "";
	String p_pronounce2 = "";
	String p_statemessage2 = ""; 
	String p_department2 = null; 
	String p_position2 = null; 
	String p_email2 = null; 
	String p_absence2 = null;
	String p_image2 = null;
	String p_t_index2 = null;
	String p_phone2 = null;
	String p_birth2 = null;
	while(rs5.next()){
		p_state2 = rs5.getString("p_state");
		p_pronounce2 = rs5.getString("p_pronounce");
		p_statemessage2 = rs5.getString("p_statemessage");
		p_department2 = rs5.getString("p_department");
		p_position2 = rs5.getString("p_position");
		p_email2 = rs5.getString("p_email");
		p_absence2 = rs5.getString("p_absence");
		p_image2 = rs5.getString("p_image");
		p_t_index2 = rs5.getString("p_t_index");
		p_phone2 = rs5.getString("p_phone");
		p_birth2 = rs5.getString("p_birth");
		profileList.add(new profileVO(p_pronounce2,p_state2,p_statemessage2,p_department2,p_position2, p_birth2, 
				p_email2, p_absence2, p_image2, p_t_index2, p_phone2));
	}
	
	ArrayList<profileVO> profileList2 = new ArrayList<profileVO>(); 
	sql = "select m.mem_name, p.p_department, p.p_position,p.p_image, p.p_email from members m, profile p where m.mem_email = p.p_email AND p.p_t_index = ?";
	pstmt5 = conn.prepareStatement(sql);
	pstmt5.setString(1, t_index);

	ResultSet rs6 = pstmt5.executeQuery(); 
	String mem_name = null; 
	String p_department3 = null;
	String p_position3 = null;
	String profile_url = null; 
	String p_email3 = null;
	
	int[] mem_count = new int[100]; 
	int i = 0; 
	while(rs6.next()){
		mem_name = rs6.getString("mem_name");
		p_department3 = rs6.getString("p_department");
		p_position3 = rs6.getString("p_position"); 
		profile_url = rs6.getString("p_image");
		p_email3 = rs6.getString("p_email");
		profileList2.add(new profileVO(mem_name, p_department3, p_position3, profile_url, p_email3));
		
		//부서별로 멤버 수 세는 부분
		String sql_cnt = "select count(*) from profile where p_department = ? and p_t_index = ?";
		PreparedStatement pstmt6 = conn.prepareStatement(sql_cnt);
		pstmt6.setString(1, p_department3);
		pstmt6.setString(2, t_index);
		
		ResultSet rs_cnt = pstmt6.executeQuery();
		while(rs_cnt.next()){
			int count = rs_cnt.getInt("COUNT(*)");
			mem_count[i] = count; 
			i++;
		}
	}
	
	sql = "select p_image from profile where p_email = ? AND p_t_index = ?";
	pstmt5 = conn.prepareStatement(sql);
	pstmt5.setString(1, loginEmail);
	pstmt5.setString(2, t_index);

	ResultSet rs7 = pstmt5.executeQuery(); 
	String p_image_url = null; 
	
	if(rs7.next()){
		p_image_url = rs7.getString("p_image"); 
	}
	/*  */
	
	ArrayList<department_cnt> d_cnt = new ArrayList<department_cnt>(); 
	
	sql = "SELECT P_DEPARTMENT, COUNT(*) p_department_cnt FROM PROFILE WHERE P_T_INDEX = ? GROUP BY P_DEPARTMENT";
	pstmt5 = conn.prepareStatement(sql); 
	pstmt5.setString(1,t_index);
	
	ResultSet rs8 = pstmt5.executeQuery();
	
	String p_department_b = null;
	int p_department_cnt = 0; 
	while(rs8.next()){
		p_department_b = rs8.getString("p_department");
		p_department_cnt = rs8.getInt("p_department_cnt");
		d_cnt.add(new department_cnt(p_department_b, p_department_cnt));
	}
	
	// 토픽클릭시, 토픽 내용을 ArrayList에.
	// ?chatTopicName=토픽2&chatTeamIndex=T63&chatLoginEmail=chae@naver.com&domain=코리.teamer.com&owner=
	ArrayList<messageVO> m_list = new ArrayList<messageVO>();
	String chatTopicName = request.getParameter("chatTopicName");
	String chatTeamIndex = request.getParameter("chatTeamIndex");
	String chatLoginEmail = request.getParameter("chatLoginEmail");
	String styleMiddleFirstPage = "display:block;";
	String styleMiddleChatDiv = "display:none;";
	if(chatTopicName != null && chatTeamIndex != null) {
		styleMiddleFirstPage = "display:none;";
		styleMiddleChatDiv = "display:block;";
	}
	sql = "select t_id from topic where t_name = ? and t_t_index = ?";
	pstmt = conn.prepareStatement(sql);
	pstmt.setString(1, chatTopicName);
	pstmt.setString(2, chatTeamIndex);
	rs = pstmt.executeQuery();
	String topic_id = "";
	if(rs.next()){
		topic_id = rs.getString(1);
	}
	
	
	//메세지 불러오는 부분
	//sql = "select * from message where m_t_id = ? order by m_id asc";
	sql = "select * from message where m_t_id = ? order by m_date asc, m_time asc";
	pstmt2 = conn.prepareStatement(sql);
	pstmt2.setString(1, topic_id); 
	System.out.println(topic_id);
	String m_content = "";
	String m_w_email = "";
	String m_date = "";
	String m_time = "";
	int m_notify;
	String m_id = "";
	int m_mentionkey;
	String m_filekey = "";
	String m_t_id = "";
	rs1 = pstmt2.executeQuery();
	while(rs1.next()){
		m_content = rs1.getString("m_content");			// 내용
		m_w_email = rs1.getString("m_w_email");			// 작성자 email
		m_date = rs1.getString("m_date");
		m_time = rs1.getString("m_time");
		m_notify = rs1.getInt("m_notify");				// 공지 등록이면 1, 아니면 0
		m_id = rs1.getString("m_id");					// 메시지ID (시퀀스 사용)
		m_mentionkey = rs1.getInt("m_mentionkey");		// 멘션이면 1, 아니면 0
		m_filekey = rs1.getString("m_filekey");			// 파일이면 1, 아니면 0
		m_t_id = rs1.getString("m_t_id");				// 토픽ID (ex. TO141) -- 토픽테이블의 PK.
		m_list.add(new messageVO(m_content,m_w_email,m_date,m_time,m_notify,m_id,m_mentionkey,m_filekey,m_t_id));
	}
	//loginEmail(나) vs m_w_email(작성자) ---> 둘이 같으면 '초록색', 다르면 '회색'. 
	for(messageVO vo : m_list) {
		System.out.println(vo);
	}

      out.write('\r');
      out.write('\n');
      out.write('	');
      out.write("\r\n");
      out.write("      // jQuery부분\r\n");
      out.write("        $(function() {\r\n");
      out.write("            $(\"#middle_div\").on(\"click\", function() {\r\n");
      out.write("                //getHide2(\"searchA\");\r\n");
      out.write("                for(var i = 0; i < arrRightPanelTagNames.length; i++) {\r\n");
      out.write("                    getHide2(arrRightPanelTagNames[i]);\r\n");
      out.write("                }\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#middle_chat_div\").on(\"click\", function(e) {\r\n");
      out.write("                //getHide2(\"searchA\");\r\n");
      out.write("                var state = $(\"#invite_mem\").css('display');\r\n");
      out.write("                var state2 = $(\"#seemore\").css('display');\r\n");
      out.write("                for(var i = 0; i < arrRightPanelTagNames.length; i++) {\r\n");
      out.write("                    getHide2(arrRightPanelTagNames[i]);\r\n");
      out.write("                }\r\n");
      out.write("                if(state=='block') {\r\n");
      out.write("                    e.stopPropagation();    // 이벤트 전파를 막아!\r\n");
      out.write("                    e.preventDefault();     // a 태그 등 태그 본래의 기능 실행도 막아!\r\n");
      out.write("                }\r\n");
      out.write("                if(state2 =='block'){\r\n");
      out.write("                    e.stopPropagation();    // 이벤트 전파를 막아!\r\n");
      out.write("                    e.preventDefault();     // a 태그 등 태그 본래의 기능 실행도 막아!\r\n");
      out.write("                }\r\n");
      out.write("            });\r\n");
      out.write("            $(\".close_btn\").on(\"click\", function() {\r\n");
      out.write("                var tagName = $(this).parent().parent().parent().attr(\"id\");  //prop(\"tagName\");\r\n");
      out.write("                //alert(tagName);\r\n");
      out.write("                getHide2(tagName);\r\n");
      out.write("            })\r\n");
      out.write("            $(\".close_btn2\").on(\"click\",function(){\r\n");
      out.write("                var tagName2 = $(this).parent().parent().attr(\"id\") //prop(\"tagName\");\r\n");
      out.write("                // alert(tagName2);\r\n");
      out.write("                getHide2(tagName2);\r\n");
      out.write("            })\r\n");
      out.write("            $(\".close_btn3\").on(\"click\",function(){\r\n");
      out.write("              var tagName3 = $(this).parent().parent().parent().attr(\"id\");\r\n");
      out.write("              // alert(tagName3);\r\n");
      out.write("              getHide2(tagName3);\r\n");
      out.write("            })\r\n");
      out.write("            $(\".close_btn4\").on(\"click\",function(){\r\n");
      out.write("              var tagName4 = $(this).parent().parent().parent().parent().attr(\"id\");\r\n");
      out.write("              // alert(tagName4);\r\n");
      out.write("              getHide2(tagName4);\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#seemore\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#invite_mem\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#changeTopic\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#teamchange\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#createTopic\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#offline_off\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#offline_on\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#topic_search\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#chatstart\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#rightmenu\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#searchA\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#file_main\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#vote\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#orga\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#drive\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#connect\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#bookmark_main_div\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#mention_main_div\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#myDIV\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#folder_delete\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#invite_newmember\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#invite_member_mail\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("            $(\"#profile_pic_change\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("\t\t\t$(\"#topic_delete\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("\t\t\t$(\"#topic_exit\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("\t\t\t$(\"#todo\").on(\"click\", function(e) {\r\n");
      out.write("              e.stopPropagation();\r\n");
      out.write("            });\r\n");
      out.write("\t\t\t<!--채팅 선택 후 데이터베이스에 추가되는 에이잭스 코드 주호 -->\r\n");
      out.write("\t\t\t$(\".chatstart_frameR > #chatstart_fontF\").click(function(){        // #chatstart_fontF : 대화 시작하기 버튼.\r\n");
      out.write("\t            \r\n");
      out.write("\t            // 배열을 선언.\r\n");
      out.write("\t            var arr_chat = new Array();\r\n");
      out.write("\t            var chat;\r\n");
      out.write("\t            //각각의 select box의 정보를 담아 줌\r\n");
      out.write("\t             $(\".cc_select_box > div\").each(function(index, item) { \r\n");
      out.write("\t               //심주영, 이채은\r\n");
      out.write("\t               /* if($(\".cc_selectbox > div\").hide() == true){\r\n");
      out.write("\t                  continue;\r\n");
      out.write("\t               } */\r\n");
      out.write("\t               var name = $(this).html().substring(0, $(this).html().length-1);\r\n");
      out.write("\t               var email = $(this).attr(\"email\");\r\n");
      out.write("\t               //alert(index + \"///\" + name + \"///\" + email);\r\n");
      out.write("\t               // 배열에 넣고.   \r\n");
      out.write("\t               /* arrname = arrname.push(name); */\r\n");
      out.write("\t               chat={\"name\":name,\"email\":email};\r\n");
      out.write("\t               arr_chat.push(chat); /*arrchat에 chat을 넣어줌*/\r\n");
      out.write("\t               \r\n");
      out.write("\t               /* console.log(arr_chat[0].name); */\r\n");
      out.write("\t             }); \r\n");
      out.write("\t            \r\n");
      out.write("\t               var chat_name=new Array();\r\n");
      out.write("\t               var chat_email=new Array();\r\n");
      out.write("\t               for(var i=0;i<arr_chat.length;i++){\r\n");
      out.write("\t                  chat_name[i]=arr_chat[i].name; \r\n");
      out.write("\t                  chat_email[i]=arr_chat[i].email;\r\n");
      out.write("\t               }\r\n");
      out.write("\t               \r\n");
      out.write("\t               \r\n");
      out.write("\t              var t_id_park = $(\".t_id_park\").val();\r\n");
      out.write("\t             /*  alert(\"현재 팀 인데스 : \" + t_id_park); */\r\n");
      out.write("\t            \r\n");
      out.write("\t               \r\n");
      out.write("\t            // data에 위의 배열을 보내. 서버에게.\r\n");
      out.write("\t            $.ajax({\r\n");
      out.write("\t               type:\"post\",\r\n");
      out.write("\t               url : \"../chatSV\",\r\n");
      out.write("\t               traditional : true,\r\n");
      out.write("\t               data : {\"chat_name\":chat_name,\"chat_email\":chat_email,\"t_id_park\":t_id_park},\r\n");
      out.write("\t               datatype : \"json\",\r\n");
      out.write("\t               success: function(data){\r\n");
      out.write("\t               \r\n");
      out.write("\t                  str = data;\r\n");
      out.write("\t                  if(str==\"update\"){\r\n");
      out.write("\t                     alert(\"채팅방이 생성되었습니다\");\r\n");
      out.write("\t                  }else{\r\n");
      out.write("\t                     alert(\"이미 채팅방이 있습니다\");\r\n");
      out.write("\t                  }\r\n");
      out.write("\t                  location.reload(); \r\n");
      out.write("\t               },\r\n");
      out.write("\t               error:function(request,staus,error){\r\n");
      out.write("\t                  alert(\"에러\")\r\n");
      out.write("\t               }\r\n");
      out.write("\t            });\r\n");
      out.write("\t         }); /*채팅 생성하기 a잭스 끝나는코드  */   \r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t<!--채팅 선택 후 데이터베이스에 추가되는 에이잭스 코드 주호 끝-->\r\n");
      out.write("\t         \r\n");
      out.write("\t         <!-- 파추호 -->\r\n");
      out.write("\t         <!-- 폴더삭제  -->\r\n");
      out.write("\t         var delete_folder_name;      \r\n");
      out.write("\t         $(document).on('click', '#lu_folder_imgbut', function () {\r\n");
      out.write("\t            var delete_folder_name = $(this).parent().siblings(\".left_up5_div1\").text().trim();\r\n");
      out.write("\t    \t\tvar t_domain = $(\".t_domain\").val();\r\n");
      out.write("\t    \t\tvar t_owner = $(\".t_owner\").val();\r\n");
      out.write("\t            \r\n");
      out.write("\t            $('.fdD').on('click',function(){\r\n");
      out.write("\t            \r\n");
      out.write("\t            $.ajax({\r\n");
      out.write("\t               type:\"get\",\r\n");
      out.write("\t               url : \"../folder_delete\",\r\n");
      out.write("\t               data : {\"folder_name\":delete_folder_name},\r\n");
      out.write("\t               datatype : \"json\",\r\n");
      out.write("\t               success: function(data){\r\n");
      out.write("\t                  alert(\"폴더가 삭제 되었습니다\");\r\n");
      out.write("\t                  location.href = \"mainpage.jsp?domain=\"+t_domain+\"&owner=\"+t_owner; <!--파추호 -->\r\n");
      out.write("\t               },\r\n");
      out.write("\t               error:function(request,staus,error){\r\n");
      out.write("\t                  alert(\"오류입니다\");\r\n");
      out.write("\t               }\r\n");
      out.write("\t            });\r\n");
      out.write("\t            \r\n");
      out.write("\t            \r\n");
      out.write("\t         });  \r\n");
      out.write("\t      });//폴더삭제 끝나는부분\r\n");
      out.write("\t         \r\n");
      out.write("\t      $(\".fdC\").on(\"click\",function(){\r\n");
      out.write("\t\t\t\tvar t_domain = $(\".t_domain\").val();\r\n");
      out.write("\t\t    \tvar t_owner = $(\".t_owner\").val();\r\n");
      out.write("\t \t\tlocation.href = \"mainpage.jsp?domain=\"+t_domain+\"&owner=\"+t_owner;\r\n");
      out.write("\t       });\r\n");
      out.write("\t      \r\n");
      out.write("\t         <!-- 폴더삭제 끝 -->\r\n");
      out.write("\t\t\t<!-- 폴더 이름 수정 파추호-->\r\n");
      out.write("\r\n");
      out.write("\t\t\t $(document).on(\"click\", \".a_folder_change_name\", function() {\r\n");
      out.write("\t\t\t\t \t/* pjh */\r\n");
      out.write("\t\t\t\t /* alert(\"클릭됨\"); */\r\n");
      out.write("\t\t         f_index = $(this).parent().parent().parent().attr(\"f_index\");\r\n");
      out.write("\t\t         f_name = $.trim($(\"#left_up5\"+f_index + \" > .left_up5_div1\").text());\r\n");
      out.write("\t\t         $(\"#left_up5\"+f_index + \" > .left_up5_div1\").html(\"<input type='text' value='\"+f_name+\"' class='update_input_folder_name'/>\");\r\n");
      out.write("\t\t      \t\tconsole.log(f_name);\r\n");
      out.write("\t\t      \t\tconsole.log(f_index);\r\n");
      out.write("\t\t      }); \r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t$(document).on(\"keyup\", \".update_input_folder_name\", function(e) {\r\n");
      out.write("\t\t         //alert(\"!! e.keyCode : \" + e.keyCode);\r\n");
      out.write("\t\t         if(e.keyCode==13) {\r\n");
      out.write("\t\t            f_index = $(this).parent().parent().attr(\"id\").substring(8);\r\n");
      out.write("\t\t            //alert(\"f_index : \" + f_index + \"을\" );\r\n");
      out.write("\t\t            f_new_name = $(this).val();\r\n");
      out.write("\t\t            //alert(f_new_name + '으로 변경!');\r\n");
      out.write("\t\t            \r\n");
      out.write("\t\t\t\tvar t_domain = $(\".t_domain\").val();\r\n");
      out.write("\t    \t\tvar t_owner = $(\".t_owner\").val();\r\n");
      out.write("\t\t            $.ajax({\r\n");
      out.write("\t\t               type:\"post\",\r\n");
      out.write("\t\t               url : \"../folder_name_change\",\r\n");
      out.write("\t\t               data : {\"folder_name\":f_new_name,\"folder_index\":f_index},\r\n");
      out.write("\t\t               datatype : \"json\",\r\n");
      out.write("\t\t               success: function(data){\r\n");
      out.write("\t\t                  \r\n");
      out.write("\t\t                  $(\"#left_up5\"+f_index + \" > .left_up5_div1\").html(f_new_name);\r\n");
      out.write("\t\t                  location.href = \"mainpage.jsp?domain=\"+t_domain+\"&owner=\"+t_owner;\r\n");
      out.write("\t\t               },\r\n");
      out.write("\t\t               error:function(request,staus,error){\r\n");
      out.write("\t\t                  alert(\"오류입니다\");\r\n");
      out.write("\t\t               }\r\n");
      out.write("\t\t            });\r\n");
      out.write("\t\t            \r\n");
      out.write("\t\t            \r\n");
      out.write("\t\t            \r\n");
      out.write("\t\t            \r\n");
      out.write("\t\t            // 이하 success함수:\r\n");
      out.write("\t\t         }\r\n");
      out.write("\t\t      })\t\t\r\n");
      out.write("\t\t\t<!-- 폴더 이름 수정 끝 파추호-->\r\n");
      out.write("\t\t\t$(\".message-input-submit\").on(\"click\", function() {\r\n");
      out.write("\t\t\t\tmsg = $(\"#message_input\").text();\r\n");
      out.write("\t\t\t\twriter = $(this).attr(\"writer\");\r\n");
      out.write("\t\t\t\ttopic_id = $(this).attr(\"topic_id\");\r\n");
      out.write("\t\t\t\t//alert(\"서버에 전송 : \" + writer + \"가\" + topic_id + \"토픽에서 \" + msg + \"라 말함.\");\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\tmsg.replace(\"//.$/\",\"\");  // 안전빵 by YG\r\n");
      out.write("\t\t\t\tsend_message(writer + \"//.$/\" + topic_id + \"//.$/\" + msg);\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t// dragged start ★★★★★★\r\n");
      out.write("\t\t\t/* ----------------------dropzone---------------------- */\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t//drag --> 드래그 중 \r\n");
      out.write("\t\t\t $(\".draggable\").on(\"dragstart\", function(e) {\r\n");
      out.write("\t\t\t\t //드래그 시작 \r\n");
      out.write("\t\t\t\t dragged = e.target;\r\n");
      out.write("\t\t\t\t e.target.style.background=\"#e3eeff\";\r\n");
      out.write("\t\t\t });\r\n");
      out.write("\t\t\t $(\".draggable\").on(\"dragend\", function(e) {\r\n");
      out.write("\t\t\t\t //드래그 종료 \r\n");
      out.write("\t\t\t\t e.target.style.background = \"\";\r\n");
      out.write("\t\t\t });\r\n");
      out.write("\t\t\t $(\".dropzone\").on(\"dragover\", function(e) {    \r\n");
      out.write("\t\t\t\t //드래그 요소가 드롭 영역에 있다\r\n");
      out.write("\t\t\t\t e.preventDefault();                  \r\n");
      out.write("\t\t\t });\r\n");
      out.write("\t\t\t $(\".dropzone\").on(\"dragenter\", function(e) {\r\n");
      out.write("\t\t\t\t //드래그 요소가 드롭영역에 들어감 \r\n");
      out.write("\t\t\t\t\t/* e.target.style.background = \"#f2fbff\"; */\r\n");
      out.write("\t\t\t });\r\n");
      out.write("\t\t\t $(\".dropzone\").on(\"dragleave\", function(e) {\r\n");
      out.write("\t\t\t\t //드래그 요소가 드롭영역에 벗어남 \r\n");
      out.write("\t\t\t });\r\n");
      out.write("\r\n");
      out.write("\t\t\t $(\".dropzone\").on(\"drop\", function(e) {\r\n");
      out.write("\t\t\t\t //드롭 \r\n");
      out.write("\t\t\t     //topicName\r\n");
      out.write("\t\t\t    topic_name_to_move = dragged.innerText;\r\n");
      out.write("\t\t\t    if(e.target.className.indexOf(\" placeholder\")>=0) {\r\n");
      out.write("\t\t\t    \tclass_name = e.target.className;\r\n");
      out.write("\t\t\t    \tclass_name = class_name.replace(\" placeholder\", \"\");\r\n");
      out.write("\t\t\t    \te.target.className = class_name;\r\n");
      out.write("\t\t\t    \te.target.innerHTML = \"\";\r\n");
      out.write("\t\t\t    }\r\n");
      out.write("\t\t\t    \r\n");
      out.write("\t\t\t\tif(e.target.className.indexOf(\"dropzone\")>=0) {\r\n");
      out.write("\t\t\t      e.preventDefault();\r\n");
      out.write("\t\t\t      //topic을 해당 folderdropzone으로 옮겼을때 해당 폴더 이름\r\n");
      out.write("\t\t\t      folder_name_arrived = e.target.previousElementSibling.innerText;\r\n");
      out.write("\t\t\t\t  \r\n");
      out.write("\t\t\t      // move dragged elem to the selected drop target\r\n");
      out.write("\t\t\t      dragged.parentNode.removeChild( dragged );\r\n");
      out.write("\t\t\t      event.target.appendChild( dragged );\r\n");
      out.write("\t\t\t      \r\n");
      out.write("\t\t\t      /* ---------------------폴더 토픽 ajax-------------------------- */\r\n");
      out.write("\t\t\t      \r\n");
      out.write("\t\t\t      var topic_name_to_move; //토픽이름   \r\n");
      out.write("\t\t\t      var folder_name_arrived; //해당 폴더이름 \r\n");
      out.write("\t\t\t      $.ajax({\r\n");
      out.write("  \t\t\t\t\t\t\ttype: \"post\",\r\n");
      out.write("  \t\t\t\t\t\t\turl: \"../dragServlet\",\r\n");
      out.write("  \t\t\t\t\t\t\tdata: {\r\n");
      out.write("  \t\t\t\t\t\t\t\t   \"topic_name_to_move\" : topic_name_to_move,\r\n");
      out.write("  \t\t\t\t\t\t\t\t   \"folder_name_arrived\" : folder_name_arrived\t\r\n");
      out.write("  \t\t\t\t\t\t\t\t   },\r\n");
      out.write("  \t\t\t\t\t\t\tdatatype: \"json\",\r\n");
      out.write("  \t\t\t\t\t\t\tsuccess: function(data) {  \r\n");
      out.write("  \t\t\t\t\t\t\t\t $(\".left_up5_add.dropzone\").each(function(index) {\r\n");
      out.write("  \t\t\t\t\t\t\t\t\tvar s = $(this).find(\".draggable\").html();\r\n");
      out.write("  \t\t\t\t\t\t\t\t\tif(s===undefined) {\r\n");
      out.write("  \t\t\t\t\t\t\t\t\t\t// 1. class이름에 placeholder를 추가\r\n");
      out.write("  \t\t\t\t\t\t\t\t\t\tclass_name = $(this).attr('class');\r\n");
      out.write("  \t\t\t\t\t\t\t\t\t\tif(class_name.indexOf('placeholder')==-1)\r\n");
      out.write("\t  \t\t\t\t\t\t\t\t\t\t$(this).attr('class', $(this).attr('class')+\" placeholder\");\r\n");
      out.write("  \t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("  \t\t\t\t\t\t\t\t\t\t// 2. 텍스트 추가 : \"폴더에 토픽을 끌어다 놓으세요\"\r\n");
      out.write("  \t\t\t\t\t\t\t\t\t\t$(this).html(\"폴더에 토픽을 끌어다 놓으세요\");\r\n");
      out.write("  \t\t\t\t\t\t\t\t\t}\r\n");
      out.write("  \t\t\t\t\t\t\t    });\r\n");
      out.write("  \t\t\t\t\t\t\t},\r\n");
      out.write("  \t\t\t\t\t\t\terror: function(request, status, error){ \r\n");
      out.write(" \t\t\t\t\t\t\t\talert(\"에러!\");\r\n");
      out.write(" \t\t\t\t\t\t\t} \r\n");
      out.write("  \t\t\t\t\t\t});\r\n");
      out.write("\t\t\t      \r\n");
      out.write("\t\t\t    \r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t\t });\r\n");
      out.write("\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t// dragged end ★★★★★★ \r\n");
      out.write("\t\t\t \r\n");
      out.write("\t\t\t \r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t$(\"#test_A\").click(function(){\r\n");
      out.write("\t\t\t\talert(\"!!!!!!!!!!!!!\")\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\t \r\n");
      out.write("\t\t\t \r\n");
      out.write("\t\t\t \r\n");
      out.write("        });\r\n");
      out.write("    \r\n");
      out.write("   \r\n");
      out.write("    </script>\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<div id=\"main_div\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t<div id=\"header\">\r\n");
      out.write("\t\t ①Window 또는 Mac에 최적화된 티머 애플리케이션을 설치하여 편리하게 사용하세요. <span class=\"header_bo\"><u>다운로드</u></span><span class=\"header_bo\"><u>&nbsp;다시 물어보지 않기</u></span>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<!--  header부분 div닫는태그 -->\r\n");
      out.write("\t<div id=\"contain_main\">\r\n");
      out.write("\t\t<div id=\"left_div\">\r\n");
      out.write("\t\t\t<a href=\"javascript:doDisplay1();\">\r\n");
      out.write("\t\t\t<!-- 왼쪽 화면단 시작 부분 -->\r\n");
      out.write("\r\n");
      out.write("\t\t\t<!--왼쪽 div중 제일 상단 코리 부분 -->\r\n");
      out.write("\t\t\t<div id=\"left_up1\">\r\n");
      out.write("\t\t\t\t<span class=\"left_up1_image1\"><img src=\"images/mp_teamer_logo.png\"></span>\r\n");
      out.write("\t\t\t\t<div class=\"left_up1_div tooltip\">\r\n");
      out.write("\t\t\t\t\t <span>");
      out.print(t_name );
      out.write("</span>\r\n");
      out.write("\t\t\t\t\t <span class=\"tip2\">팀 전환하기</span>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<span class=\"left_up1_image2\" id =\"team_change_logo_right_butimg\"><img src=\"images/mp_bottom_arrow.png\"></span>\r\n");
      out.write("\t\t\t\t</a>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<!--왼쪽 div중 제일 상단 코리 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("\t\t\t<!-- 왼쪽 div- 토픽 또는 채팅방 검색 div -->\r\n");
      out.write("\t\t\t<div id=\"left_up2\">\r\n");
      out.write("\t\t\t\t<div class=\"left_up2_div tooltip\">\r\n");
      out.write("\t\t\t\t\t<span class=\"tip3\">토픽 또는 채팅방으로 바로 이동하기</span>\r\n");
      out.write("\t\t\t\t\t 토픽 또는 채팅방 검색\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<!-- 왼쪽 div- 토픽 또는 채팅방 검색 div -->\r\n");
      out.write("\r\n");
      out.write("\t\t\t<!-- 왼쪽 div- 토픽 메뉴 바 div -->\r\n");
      out.write("\t\t\t<div id=\"left_up3\">\r\n");
      out.write("\t\t\t\t<div class=\"left_up3_title\">\r\n");
      out.write("\t\t\t\t\t 토픽\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<span class=\"left_up3_image1\"><img src=\"images/mp_top_arrow.PNG\"/></span>\r\n");
      out.write("\t\t\t\t<a href=\"javascript:doDisplay20();\" id=\"img_but_15pic\">\r\n");
      out.write("\t\t\t\t<span class=\"left_up3_image2\"><img src=\"images/mp_plus_im.PNG\"/></span>\r\n");
      out.write("\t\t\t\t</a>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<!-- 왼쪽 div- 토픽 메뉴 바 div -->\r\n");
      out.write("\r\n");
      out.write("\t\t\t<!-- 왼쪽 div- 토픽 정렬 바 div -->\r\n");
      out.write("\t\t\t<div id=\"left_up4\">\r\n");
      out.write("\t\t\t\t<span class=\"left_up4_image\">\r\n");
      out.write("\t\t\t\t<img src=\"images/mp_name_sh.PNG\">\r\n");
      out.write("\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t<div class=\"left_up4_div1\">\r\n");
      out.write("\t\t\t\t\t 이름 순\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<button class=\"left_up4_div2\" id=\"lu_folder_made\" style=\"cursor:pointer;\">\r\n");
      out.write("\t\t\t\t\t 폴더 생성\r\n");
      out.write("\t\t\t\t</button>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<!-- 왼쪽 div- 토픽 정렬 바 div -->\r\n");
      out.write("\r\n");
      out.write("\t\t\t<!-- 왼쪽 div- 폴더 명 div -->\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\t\t\t\t \r\n");
      out.write("\t\t\t");

					ArrayList<folderNameVO> folderNamelist = new ArrayList<folderNameVO>();
					sql="select f_name,f_index from folders where f_t_index=?";
					pstmt = conn.prepareStatement(sql);
					pstmt.setString(1, t_index);
					rs = pstmt.executeQuery();
					String folderName;
					String folderIndex; 
					while(rs.next()){
						folderName = rs.getString("f_name");
						folderIndex = rs.getString("f_index");
						folderNamelist.add(new folderNameVO(folderName,folderIndex));
					}
					rs.close();
					pstmt.close();
					
					ArrayList<TopicNameVO> topiclist= new ArrayList<TopicNameVO>();
				    
					//sql = "select t_public,t_name,t_id from topic where t_team_index=? ";
					sql = "select t.t_public t_public,t.t_name t_name,t.t_id t_id,ft.f_index_2 f_index_2 from topic t, folder_topic ft where t.t_id=ft.f_topic_id (+) and t_t_index=? and t_id like 'T%'";
					pstmt = conn.prepareStatement(sql);
					pstmt.setString(1, t_index);
					rs = pstmt.executeQuery();
					String topicName;
					String t_public;
					String t_id;
					String f_index_2;
					while(rs.next()) {
						topicName = rs.getString("t_name");
						t_public = rs.getString("t_public");
						t_id = rs.getString("t_id");
						f_index_2 = rs.getString("f_index_2");
						topiclist.add(new TopicNameVO(topicName,t_public,t_id, f_index_2));
					}
					rs.close();
					pstmt.close();
					
			
      out.write("\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t<!-- left_up5 시작하는 부분 -->\r\n");
      out.write("\r\n");
      out.write("\t\t\t<div id = \"left_up5_6\">\r\n");
      out.write("\t\t\t");

 				for(folderNameVO folderVO : folderNamelist) {
 			
      out.write("\r\n");
      out.write("\t\t\t\t\t<div class=\"left_up5\" style=\"border-bottom: 2px #d6dadb solid;\"id=\"left_up5");
      out.print(folderVO.getF_index());
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"left_up5_image1\">\r\n");
      out.write("\t\t\t\t\t\t\t<i class=\"far fa-folder icon_folder\"></i>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"left_up5_div1\">\r\n");
      out.write("\t\t\t\t\t\t\t ");
      out.print(folderVO.getF_name());
      out.write("\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"left_up5_div2\">\r\n");
      out.write("\t\t\t\t\t\t\t &nbsp; \r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\t\t\t\t<a class=\"tooltip\">\r\n");
      out.write("\t\t\t\t\t\t<!-- //cecece2 -->\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"left_up5_image2\" id=\"lu_folder_imgbut\" f_index = \"");
      out.print(folderVO.getF_index());
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t<!-- gozoo -->\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type = \"hidden\" class = \"loginEmail_park\" value = \"");
      out.print(loginEmail);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type = \"hidden\" class = \"domain_park\" value = \"\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"icon_menu\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<i class=\"fas fa-ellipsis-h icon_ellipsis\"></i>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\t\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t");
 
						String dropzoneClassAdded = "";
						int cnt = 0;
						for(TopicNameVO topicVO : topiclist) {
							if(topicVO.getF_index_2()!=null && topicVO.getF_index_2().equals(folderVO.getF_index())) {
								cnt++;
							}
						}
						if(cnt==0)
							dropzoneClassAdded = " placeholder";
					
      out.write("\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t<div class=\"left_up5_add dropzone");
      out.print(dropzoneClassAdded);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t<!-- \tvar topic_name = $(this).find(\"#topic_name\").text(); -->\r\n");
      out.write("\t\t\t\t\t\t");

						cnt = 0;
						for(TopicNameVO topicVO : topiclist) {
							if(topicVO.getF_index_2()==null)
								continue;
							if(topicVO.getF_index_2().equals(folderVO.getF_index())) {
								cnt++;
						
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"left_up6_div draggable\" draggable=\"true\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type = \"hidden\" class = \"login_emailA\" name = \"login_email\" value = \"");
      out.print(loginEmail);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type = \"hidden\" class = \"team_indexA\" name = \"team_index\" value = \"");
      out.print(t_index);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class = \"topic_name\">");
      out.print( topicVO.getT_name());
      out.write("</span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t");
 
										if(!(topicVO.getT_public().equals("y"))) {
									
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-lock icon_lock\"></i>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t");
 } 
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t");
 
							}
						} 
						if(cnt==0) {
						
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t폴더에 토픽을 끌어다 놓으세요\r\n");
      out.write("\t\t\t\t\t\t");

						}
						
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t");

				}
			
      out.write("\r\n");
      out.write("\t\t\t\t<input type = \"hidden\" id = \"login_emailB\" name = \"login_email\" value = \"");
      out.print(loginEmail);
      out.write("\">\r\n");
      out.write("\t\t\t\t<input type = \"hidden\" id = \"team_indexB\" name = \"team_index\" value = \"");
      out.print(t_index);
      out.write("\">\r\n");
      out.write(" \t\t<script>\r\n");
      out.write("\t\tvar g_s;\r\n");
      out.write("\t\tvar g_r;\r\n");
      out.write("         $(function() {\r\n");
      out.write("              $(\"#lu_folder_made\").on(\"click\", function() {\r\n");
      out.write("               str = '<div >'\r\n");
      out.write("                  +'<div class=\"left_up5_image1\">'\r\n");
      out.write("                  +'<img style = \"margin-top:6px;\" src=\"images/mp_foler_img.PNG\">'\r\n");
      out.write("                  +'</div>'\r\n");
      out.write("                  +'<div class=\"left_up5_div1\">'\r\n");
      out.write("                  +'<input type=\"text\" class=\"folderName_input\" name=\"folder\" id=\"folderNameid\" value=\"새폴더\">'\r\n");
      out.write("                  +'</div>'\r\n");
      out.write("                  +'<div class=\"left_up5_div2\">'\r\n");
      out.write("                  +'    &nbsp; '\r\n");
      out.write("                  +'</div>'\r\n");
      out.write("                  +'<a href=\"javascript:doDisplay24();\" class=\"tooltip\">'\r\n");
      out.write("                  +'<div class=\"left_up5_image2\" id=\"lu_folder_imgbut\">'\r\n");
      out.write("                  +'<img style = \"margin-left:-48px; margin-top:-12px;\" src=\"images/mp_folder_menu.PNG\"/>'\r\n");
      out.write("                  +'<div class=\"tip4\">더보기</div>'\r\n");
      out.write("                  +'</div>'\r\n");
      out.write("                  +'</a>'\r\n");
      out.write("                  +'</div>';\r\n");
      out.write("                  $(\"#left_up6\").append(str);\r\n");
      out.write("                  $(\".folderName_input\").keyup(function(e){\r\n");
      out.write("  \t\t\t\t\t\tif(e.keyCode == 13){\r\n");
      out.write("  \t\t\t\t\t\t\tconsole.log(\"콘솔로그찍힘\");\r\n");
      out.write("  \t\t\t\t\t\t\t_this = $(this);\r\n");
      out.write("  \t\t\t\t\t\t\tvar folderName = _this.val();\r\n");
      out.write("  \t\t\t\t\t\t\tvar login_emailB = $(\"#login_emailB\").val();\r\n");
      out.write("  \t\t\t\t\t\t\tvar team_indexB = $(\"#team_indexB\").val();\r\n");
      out.write("  \t\t\t\t\t\t\t/* alert(\"로그인아이디 : \" + login_emailB + \"인덱스(팀)\" + team_indexB); */\r\n");
      out.write("  \t\t\t\t\t\t\tconsole.log(folderName);\r\n");
      out.write("  \t\t\t\t\t\t \t $.ajax({\r\n");
      out.write("  \t\t\t\t\t\t\t\ttype: \"post\",\r\n");
      out.write("  \t\t\t\t\t\t\t\turl: \"../folderNameServlet\",\r\n");
      out.write("  \t\t\t\t\t\t\t\tdata: {\"folderName\": folderName,\"login_emailB\":login_emailB,\"team_indexB\":team_indexB},\r\n");
      out.write("  \t\t\t\t\t\t\t\tdatatype: \"json\",\r\n");
      out.write("  \t\t\t\t\t\t\t\tsuccess: function(data) {  \r\n");
      out.write("\t\t\t\t\t\t\t\t\tlocation.reload();\r\n");
      out.write("  \t\t\t\t\t\t\t\t},\r\n");
      out.write("  \t\t\t\t\t\t\t\terror: function(request, status, error){ \r\n");
      out.write("  \t\t\t\t\t\t\t\t\talert(\"에러!\");\r\n");
      out.write("  \t\t\t\t\t\t\t\t\tg_r = request;\r\n");
      out.write("  \t\t\t\t\t\t\t\t\tg_s = status;\r\n");
      out.write("  \t\t\t\t\t\t\t\t} \r\n");
      out.write("  \t\t\t\t\t\t\t}) \r\n");
      out.write("  \t\t\t\t\t\t}\r\n");
      out.write("                  });\r\n");
      out.write("              });\r\n");
      out.write("              \t\r\n");
      out.write("\t              \r\n");
      out.write("              $(\".left_up5\").click(function(){\r\n");
      out.write("            \t  //console.log($(this).next(\".left_up5_add\"))\r\n");
      out.write("            \t  $(this).next(\".left_up5_add\").slideToggle(\"fast\");\r\n");
      out.write("              });\r\n");
      out.write("              \r\n");
      out.write("              $(\".left_up5_add.dropzone\").each(function(index) {\r\n");
      out.write("            \t var s = $(this).find(\".draggable\").html();\r\n");
      out.write("            \t if(s!==undefined) {\r\n");
      out.write("            \t\t $(this).slideToggle(\"fast\");\r\n");
      out.write("            \t }\r\n");
      out.write("              });\r\n");
      out.write("          }); \r\n");
      out.write("         \r\n");
      out.write("         </script>\r\n");
      out.write("\t\t\t<!-- 왼쪽 div- 폴더 명 div -->\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\r\n");
      out.write("\t\t\t<!-- 왼쪽 div- 토픽 방 리스트 div -->\r\n");
      out.write("\t\t    ");
      out.write("\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t<div id=\"left_up6\" class = \"dropzone\">\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t");
      out.write("\r\n");
      out.write("\t\t<style>\r\n");
      out.write("\t\t\t.left_up6_div { cursor:pointer; }\r\n");
      out.write("\t\t</style>\t\t\t\r\n");
      out.write("\t\t\t<script>\r\n");
      out.write("\t\t\tfunction changeTopic(){\r\n");
      out.write("\t\t\t\t$(\".middle_firtst_page\").hide();\r\n");
      out.write("\t\t\t\t$(\".middle_chat_div\").show();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t\tvar topic_name = \"\";\r\n");
      out.write("\t\t\t\t$(function(){\r\n");
      out.write("\t\t\t\t\t// 토픽클릭시 (mainpage.jsp?토픽이름&팀인덱스)로 보냄.\r\n");
      out.write("\t\t\t\t\t$(\".left_up6_div\").click(function(){\t\t\r\n");
      out.write("\t\t\t\t\t\t$(\"#middle_first_page\").hide();\r\n");
      out.write("\t\t\t\t\t\t$(\"#middle_chat_div\").show();\r\n");
      out.write("\t\t\t\t\t\tvar topic_name = $(this).find(\".topic_name\").text();\r\n");
      out.write("\t\t\t\t\t\tvar team_indexA = $(\".team_indexA\").val();\r\n");
      out.write("\t\t\t\t\t\tvar login_emailA = $(\".login_emailA\").val();\r\n");
      out.write("\t\t\t\t\t\t$('#middle_chat_div').find(\".notify_font\").text(topic_name);\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t//location.href = \"chat_action.jsp?topic_name=\"+topic_name+\"&team_index=\"+team_indexA+\"&login_email=\"+login_emailA;\r\n");
      out.write("\t\t\t\t\t\tthe_url = \"mainpage.jsp?chatTopicName=\"+topic_name+\"&chatTeamIndex=\"+team_indexA+\"&chatLoginEmail=\"+login_emailA;\r\n");
      out.write("\t\t\t\t\t\tif('");
      out.print(request.getParameter("domain"));
      out.write("'!='null')\r\n");
      out.write("\t\t\t\t\t\t\tthe_url += '&domain=");
      out.print(request.getParameter("domain"));
      out.write("';\r\n");
      out.write("\t\t\t\t\t\tif('");
      out.print(request.getParameter("owner"));
      out.write("'!='null')\r\n");
      out.write("\t\t\t\t\t\t\tthe_url += '&owner=");
      out.print(request.getParameter("owner"));
      out.write("';\r\n");
      out.write("\t\t\t\t\t\tlocation.href = the_url;\r\n");
      out.write("\t\t\t\t\t\t/* location.href = \"../ChatServlet\"; */\r\n");
      out.write("\t\t\t\t\t});\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t//채팅방 클릭시 \r\n");
      out.write("\t\t\t\t\t$(\".div8_child\").click(function() {\r\n");
      out.write("\t\t\t\t\t\t$(\"#middle_first_page\").hide();\r\n");
      out.write("\t\t\t\t\t\t$(\"#middle_chat_div\").show();\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\tvar chat_name = $(this).text();\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\tvar team_indexA = $(\".team_indexA\").val();\r\n");
      out.write("\t\t\t\t\t\tvar login_emailA = $(\".login_emailA\").val();\r\n");
      out.write("\t\t\t\t\t\t$('#middle_chat_div').find(\".notify_font\").text(chat_name);\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\tthe_url = \"mainpage.jsp?chatTopicName=\"+chat_name+\"&chatTeamIndex=\"+team_indexA+\"&chatLoginEmail=\"+login_emailA;\r\n");
      out.write("\t\t\t\t\t\tif('");
      out.print(request.getParameter("domain"));
      out.write("'!='null')\r\n");
      out.write("\t\t\t\t\t\t\tthe_url += '&domain=");
      out.print(request.getParameter("domain"));
      out.write("';\r\n");
      out.write("\t\t\t\t\t\tif('");
      out.print(request.getParameter("owner"));
      out.write("'!='null')\r\n");
      out.write("\t\t\t\t\t\t\tthe_url += '&owner=");
      out.print(request.getParameter("owner"));
      out.write("';\r\n");
      out.write("\t\t\t\t\t\tlocation.href = the_url;\r\n");
      out.write("\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t})\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t</script>\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t<!-- 이름 클릭했을 때 middle_div가 바뀌게 해야함 -->\r\n");
      out.write("\t\t\t<a class=\"left_up6_a\"></a>\r\n");
      out.write("\t\t\t");
 for(TopicNameVO topicVO : topiclist) { 
				if(topicVO.getF_index_2()!=null)
					continue;
			
      out.write("\r\n");
      out.write("\t\t\t\t<div class=\"left_up6_div draggable\" draggable = \"true\">\r\n");
      out.write("\t\t\t\t<input type = \"hidden\" class = \"login_emailA\" name = \"login_email\" value = \"");
      out.print(loginEmail);
      out.write("\">\r\n");
      out.write("\t\t\t\t<input type = \"hidden\" class = \"team_indexA\" name = \"team_index\" value = \"");
      out.print(t_index);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t <span class = \"topic_name\">");
      out.print(topicVO.getT_name());
      out.write("</span> \r\n");
      out.write("\t\t\t");

				if(!(topicVO.getT_public().equals("y"))) {
			
      out.write("\r\n");
      out.write("\t\t\t\t\t<i class=\"fas fa-lock icon_lock\"></i>\r\n");
      out.write("\t\t\t");
 } 
      out.write("\r\n");
      out.write("\t\t\t\t</div>\t\t\t\t\r\n");
      out.write("\t\t\t");
 } 
      out.write("\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<!-- left_up6 끝나는 부분 -->\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t<script>\r\n");
      out.write("\t\t\tvar g_s;\r\n");
      out.write("\t        var g_r;\r\n");
      out.write("\t\t\t$(function(){\r\n");
      out.write("\t\t\t\t$(\"#ct_bottom_construct_div_text\").click(function(){\r\n");
      out.write("\t\t\t\t\t//토픽이름값 가져오기 \r\n");
      out.write("\t\t\t\t\tvar topic_name = $(\"#ct_search_topic\").val();\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tvar login_email = $(\"#login_emailB\").val();\r\n");
      out.write("\t\t\t\t\tvar team_indexA = $(\"#team_indexB\").val();\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t//라디오박스 value값 가져오기 \r\n");
      out.write("\t\t\t\t\tvar topic_public = $('input:radio[name=t_public]:checked').val();\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\t\t\ttype:\"post\",\r\n");
      out.write("\t\t\t\t\t\turl:\"../topicServlet\",\r\n");
      out.write("\t\t\t\t\t\tdata:{\"topic_name\" : topic_name,\"topic_public\":topic_public,\"login_email\":login_email,\"team_indexA\":team_indexA},\r\n");
      out.write("\t\t\t\t\t\tdatatype:\"json\",\r\n");
      out.write("\t\t\t\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\t\t\t\tlocation.reload();\r\n");
      out.write("\t\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\t\terror: function(request,status,error){\r\n");
      out.write("\t\t\t\t\t\t\talert(\"에러\");\r\n");
      out.write("\t\t\t\t\t\t\tg_r= request;\r\n");
      out.write("\t\t\t\t\t\t\tg_s=status;\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t})\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t// 팀 변경하기 gozoo\r\n");
      out.write("\t\t\t\t$(\".teamchange_list1\").click(function(){\r\n");
      out.write("\t\t\t\t\tvar team_name = $(this).find(\".teamchange_teamname1\").text().trim();\r\n");
      out.write("\t\t\t\t\tvar team_domain = $(this).find(\".domain\").text().trim();\r\n");
      out.write("\t\t\t\t\tvar login_id = $(\".curr_login_id\").val();\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t/* alert(\"현재 로그인되어있는 아이디는 \" + login_id + \" 입니다. \"); \r\n");
      out.write("\t\t\t\t\talert(\"팀이름은 \" + team_name + \" 입니다.\" + \" 또한 팀 도메인은 \" + team_domain + \" 입니다. \"); */\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tlocation.href = \"mainpage.jsp?domain=\"+team_domain+\"&owner=\"+login_id;\r\n");
      out.write("\t\t\t\t\t");
      out.write("  \r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\t</script>\r\n");
      out.write("\t\t\t<!-- 왼쪽 div- 토픽 방 리스트 div -->\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\r\n");
      out.write("\t\t\t<!-- 왼쪽 div- 채팅 바 div -->\r\n");
      out.write("\t\t\t<div id=\"left_up7\">\r\n");
      out.write("\t\t\t\t<div class=\"left_up7_title\">\r\n");
      out.write("\t\t\t\t\t 채팅\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<span class=\"left_up7_image1\">\r\n");
      out.write("\t\t\t\t<img src=\"images/mp_bottom_arrow.png\">\r\n");
      out.write("\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t<span class=\"left_up7_image2\" id=\"lu7_img_but\">\r\n");
      out.write("\t\t\t\t<a href=\"javascript:doDisplay13();\">\r\n");
      out.write("\t\t\t\t<img src=\"images/mp_plus_im.PNG\">\r\n");
      out.write("\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t</span>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<!-- 왼쪽 div- 채팅 바 div -->\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\t<!-- 파추호 -->\r\n");
      out.write("\t\t\t <!-- 채팅리스트 뜨는곳 div8 주호 -->\r\n");
      out.write("\t\t\t");

         ArrayList<topicName> chatlist = new ArrayList<topicName>();
         sql="select t_name, t_member from topic where t_t_index= ? and t_id like 'C%'";
         pstmt = conn.prepareStatement(sql);
         pstmt.setString(1, t_index);
         rs = pstmt.executeQuery();
         while(rs.next()){
            String chat_name = rs.getString("t_name");
            String chat_member = rs.getString("t_member");
            chatlist.add(new topicName(chat_name, chat_member));
         }
      
      out.write("\r\n");
      out.write("         \r\n");
      out.write("         \r\n");
      out.write("         <div id=\"left_up8\">\r\n");
      out.write("            \r\n");
      out.write("            ");

               for(topicName cn: chatlist){
            	String[] chat_member = cn.getT_member().split("_");
            	for(int z=0; z<chat_member.length; z++){
            		if(chat_member[z].equals(loginEmail)){ 
      out.write("\r\n");
      out.write("            \t\t\t\r\n");
      out.write("               \t\t\t<div class=\"div8_child\">");
      out.print(cn.getT_name() );
      out.write("</div>\r\n");
      out.write("               \t\t\t");
 
            		}
            	}
               }
            
      out.write("\r\n");
      out.write("         </div>\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t<!-- 채팅리스트 뜨는곳 div8 끝나는곳 --> \r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<!-- 왼쪽 div 닫는태그-->\r\n");
      out.write("\r\n");
      out.write("<!-- 가운데 div 시작하는 부분 -->\r\n");
      out.write("\t\t<div id=\"middle_div\" style=\"display: block;\">\r\n");
      out.write("\t\t\t<div id=\"middle_first_page\" style=\"");
      out.print(styleMiddleFirstPage);
      out.write("\">\r\n");
      out.write("\t\t\t\t<img src=\"images/mainjandi.png\" width=\"376px\" height=\"320px\" id=\"main_img\" style=\"padding-top: 10em;\"/>\r\n");
      out.write("\t\t\t\t<div id=\"middle_first_div\">\r\n");
      out.write("\t\t\t\t\t 오늘은 어디에서 시작해볼까요?\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<br/><br/>\r\n");
      out.write("\t\t\t\t<div id=\"middle_second_div\">\r\n");
      out.write("\t\t\t\t\t 프로젝트별 특정 주제의 그룹 대화는 '토픽'<br/><br/>자유로운 1:1 또는 그룹 대화는 '채팅'\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\r\n");
      out.write("<!-- teamchange -->\r\n");
      out.write("\t\t\t<div id=\"teamchange\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div class=\"teamchange_whole\">\r\n");
      out.write("\t\t\t\t\t<div class=\"teamchange_title\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"teamchange_title_text\">\r\n");
      out.write("\t\t\t\t\t\t\t 팀 리스트\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<img class=\"teamchange_title_image\" src=\"images/arrow_up.png\">\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t");

						for (teamlistVO teamchoice : list2) {
					
      out.write("\r\n");
      out.write("\t\t\t\t\t<div class=\"teamchange_list1 background_change\">\r\n");
      out.write("\t\t\t\t\t\t<input type = \"hidden\" class = \"curr_login_id\" value = \"");
      out.print(loginEmail);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t<img class=\"teamchange_list1_image jandi_class\" src=\"images/jandi.png\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"text_margin\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"teamchange_teamname1\">\r\n");
      out.write("\t\t\t\t\t\t\t\t ");
      out.print( teamchoice.getT_name() );
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"domain\">\r\n");
      out.write("\t\t\t\t\t\t\t\t ");
      out.print( teamchoice.getT_domain() );
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t");

						}
					
      out.write("\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- teamchange -->\r\n");
      out.write("\r\n");
      out.write("<!-- rightmenu -->\r\n");
      out.write("\t\t\t<div id=\"rightmenu\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div id=\"rightmenu_whole\">\r\n");
      out.write("\t\t\t\t\t<div class=\"rightmenu_invitemem\">\r\n");
      out.write("\t\t\t\t\t\t<a href=\"javascript:doDisplay28();\">\r\n");
      out.write("\t\t\t\t\t\t<span class=\"rightmenu_invitemem_text\">\r\n");
      out.write("\t\t\t\t\t\t+ 새로운 멤버 초대하기 </span></a>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t<ul>\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"rightmenu_team\">팀</span>\r\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:doDisplay1();\">\r\n");
      out.write("\t\t\t\t\t\t\t<li>&nbsp; 팀 전환하기</li>\r\n");
      out.write("\t\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t\t<a href=\"member_management.jsp\">\r\n");
      out.write("\t\t\t\t\t\t\t<li>&nbsp; 관리자 메뉴</li>\r\n");
      out.write("\t\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t<ul>\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"rightmenu_setting\">설정</span>\r\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:doDisplay15();\">\r\n");
      out.write("\t\t\t\t\t\t\t<li>부재중 설정</li>\r\n");
      out.write("\t\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t<ul>\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"rightmenu_else\">기타</span>\r\n");
      out.write("\t\t\t\t\t\t\t<a href=\"team_choice.jsp\">\r\n");
      out.write("\t\t\t\t\t\t\t<li>&nbsp; 티머 메인으로</li>\r\n");
      out.write("\t\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t\t<a href=\"teamer_logout.jsp\">\r\n");
      out.write("\t\t\t\t\t\t\t<li>&nbsp; 로그아웃</li>\r\n");
      out.write("\t\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- rightmenu 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- searchA 시작 부분 -->\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("\t\t\t<div id=\"searchA\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div class=\"searchA_whole\">\r\n");
      out.write("\t\t\t\t\t<span class=\"searchA_title\">\r\n");
      out.write("\t\t\t\t\t검색 </span>\r\n");
      out.write("\t\t\t\t\t<span class=\"searchA_close_image\">\r\n");
      out.write("\t\t\t\t\t<img src=\"images/search_x.png\" class=\"close_btn\">\r\n");
      out.write("\t\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t\t<div style=\"clear: both\">\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!-- 검색 -->\r\n");
      out.write("\t\t\t\t\t<div class=\"searchA_search\">\r\n");
      out.write("\t\t\t\t\t\t<!-- 검색어 input -->\r\n");
      out.write("\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t<!-- sojin -->\r\n");
      out.write("\t\t\t\t\t\t\t<input class=\"searchA_search_input\" type=\"text\" id=\"searchA_input\" placeholder=\"검색어를 입력하세요\">\r\n");
      out.write("\t\t\t\t\t\t\t<input type = \"hidden\" id=\"searchA_t_index\" value = \"");
      out.print( t_index );
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\t<script>\r\n");
      out.write("\t\t\t\t\t\t\t\t$(\"#searchA_input\").keyup(function(e){\r\n");
      out.write("\t\t\t\t\t\t\t\t\tif(e.keyCode == 13){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\tvar search_content = $(\"#searchA_input\").val();\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\tvar t_index = $(\"#searchA_t_index\").val();\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\ttype: \"get\",\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\turl: \"../searchServlet\",\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tdata: {\"search_content\": search_content, \"t_index\" : t_index},\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tdatatype:\"json\",\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t//console.log(data)\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tsearch_arr=data;\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t/* ---------------------data출력값-------------------- */\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tstr2=\"\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tcnt=0;\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tfor(var i=0; i<search_arr.length-1;i++){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tcnt++;\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tvar content_replace = search_arr[i].m_content.replace(search_arr[search_arr.length-1],'<mark class=\"searchA_result1_file_mark\">'+search_arr[search_arr.length-1]+'</mark>') \t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\tstr2+='\t\t<div class=\"searchA_result1\">'\r\n");
      out.write("/* \t\t\t\t\t\t\t\t\t\t\t\t\t \t+\t\t\t\t\tsearch_arr[i].p_image */\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t\t<img class=\"searchA_result1_image\" src=\"'+ search_arr[i].p_image +'\" />'//이자리 프로필 떠야\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t\t\t<div>'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t\t\t\t<div class=\"searchA_result1_name\">'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+\t\t\t\t\tsearch_arr[i].mem_name //채팅 보낸 사람이름 \r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t\t\t\t</div>'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t\t\t<div style=\"clear: both\"></div>'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t\t\t<div class=\"searchA_result1_time\">'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+\t\t\t\t\tsearch_arr[i].m_date //채팅 보낸 날짜 \r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t\t\t</div>'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t\t\t<div class=\"searchA_result1_file\">'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//검색된 내용 전체 -->검색된 내용전체중 검색한 내용물만 하이라이팅\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+  \t\t\t\t\tcontent_replace\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t\t\t</div>'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t\t\t<div class=\"searchA_result1_teamname\">'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+\t\t\t\t\tsearch_arr[i].t_name //검색된 채팅,토픽방이름 \r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t\t\t</div>'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t\t</div>'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t\t<div class=\"searchA_result_text2\">'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t\t</div>'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\t+'\t\t</div>';\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t$(\".search_html\").html(str2);\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t   str ='<div class=\"searchA_message_result\">'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t   +'\t\"<span class=\"searchA_message_result_font\">'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t   +\t search_arr[search_arr.length-1]//입력한 검색된 내용물 \r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t   +'\t</span>'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t   +'\t\"에 대한 검색 결과가 \"<span class=\"searchA_message_result_font\">'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t   +\tcnt\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t   +'\t</span>'//검색된 갯수 \r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t   +'\t\"건 있습니다.'\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t   +' </div>';\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t$(\".searchA_message\").html(str);\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\terror: function(request,status,error){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\talert(\"에러!\");\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t})\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t})\r\n");
      out.write("\t\t\t\t\t\t\t</script>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!-- 전체,메시지,파일-->\r\n");
      out.write("\t\t\t\t\t<div class=\"searchA_menu\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"searchA_menu_list\">\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"sa_menu_list1\">전체</span>\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"sa_menu_list2\">메시지</span>\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"sa_menu_list3\">파일</span>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!-- 참여대화방,모든멤버,기간 설정 -->\r\n");
      out.write("\t\t\t\t\t<div class=\"searchA_settings\">\r\n");
      out.write("\t\t\t\t\t\t<img class=\"searchA_drop_image\" src=\"images/drop.png\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"searchA_recent\">\r\n");
      out.write("\t\t\t\t\t\t\t 최신 순!\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t<!-- <!— ——메시지 검색——— ———> -->\r\n");
      out.write("\t\t\t\t\t\t<div class=\"searchA_message\"><!--  총 검색된 개수 --></div>\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t<!-- <!——— 검색된값 출력하기 ———> -->\r\n");
      out.write("\t\t\t\t\t    <div class=\"search_html\" style=\"\"><!-- ----검색된값 출력----- --></div>\t\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t<!-- ——— ——————————— —————————— -->\t\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!-- <!——————————— ———————————— ————————————> -->\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!-- searchA 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- todo 시작하는 부분 -->\r\n");
      out.write("\t\t\t<div id=\"todo\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div class=\"todo-top\">\r\n");
      out.write("\t\t\t\t\t<span class=\"todo_title\">\r\n");
      out.write("\t\t\t\t\t할 일 </span>\r\n");
      out.write("\t\t\t\t\t<div class=\"button-calendar-class\">\r\n");
      out.write("\t\t\t\t\t\t<button type=\"button\" class=\"button_calendar\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"button_calendar_image\">\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"images/calendar.png\">\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"button_calendar_text\">\r\n");
      out.write("\t\t\t\t\t\t\t<span> 할 일 일정 </span>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<span class=\"todo_close_image\"><img src=\"images/vote_x_button.png\" class=\"vote_x_btn\"/></span>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div style=\"clear: both\">\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"class-section\">\r\n");
      out.write("\t\t\t\t\t<div class=\"making-todo\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"button-box\">\r\n");
      out.write("\t\t\t\t\t\t\t<button type=\"button\" class=\"todo_making_button\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"todo-make-image\" style=\"float:left;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"vote-image\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<img src=\"images/vote_plus_button.png\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"todo-make\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"todo-text\">\r\n");
      out.write("\t\t\t\t\t\t\t\t할 일 생성 </span>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"making-todo-tool\">\r\n");
      out.write("\t\t\t\t\t\t<ul class=\"making-todo-tool-list\">\r\n");
      out.write("\t\t\t\t\t\t\t<li class=\"pointer non-selectable dropdown-toggle dropdown open\" dropdown style>\r\n");
      out.write("\t\t\t\t\t\t\t<button type=\"button\" class=\"dropdown-toggle\" dropdown-toggle aria-haspopup=\"true\" aria-expanded=\"true\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"dropdown-toggle-make dropdown_create\">\r\n");
      out.write("\t\t\t\t\t\t\t생성 순 </div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=dropdown-toggle-make-div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"dropdown-toggle-make-image\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<img src=\"images/down_icon.png\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t\t<li class=\"second_li\">\r\n");
      out.write("\t\t\t\t\t\t\t<button type=\"button\" class=\"dropdown-toggle\" dropdown-toggle aria-haspopup=\"true\" aria-expanded=\"true\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"dropdown-toggle-make dropdown_all\">\r\n");
      out.write("\t\t\t\t\t\t\t모든 할 일 </div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"dropdown-toggle-make-div dropdown_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"dropdown-toggle-make-image\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<img src=\"images/down_icon.png\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<section id=\"tool-todo-list\" class=\"tool-todo-list-class\">\r\n");
      out.write("\t\t\t\t<section class=\"tool-todo-list-section\">\r\n");
      out.write("\t\t\t\t<!-- <span class=\"button-label\">\r\n");
      out.write("\t\t\t\t완료된 할 일 제외 </span>\r\n");
      out.write("\t\t\t\t<div class=\"button-label-toggle\">\r\n");
      out.write("\t\t\t\t\t<button type=\"button\"><img src=\"images/toggle_image.png\"></button>\r\n");
      out.write("\t\t\t\t</div> -->\r\n");
      out.write("\t\t\t\t</section>\r\n");
      out.write("\t\t\t\t</section>\r\n");
      out.write("\t\t\t\t<div class=\"tool-todo-lists\">\r\n");
      out.write("\t\t\t\t\t<div class=\"percent\">\r\n");
      out.write("\t\t\t\t\t\t<span class=\"percent-title\"> 진척률 : </span>\r\n");
      out.write("\t\t\t\t\t\t<span class=\"percent_zero\"> 0 % </span>\r\n");
      out.write("\t\t\t\t\t\t<span class=\"percent-made-date\"> 생성일: 2021/10/18 </span>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"list-title\">\r\n");
      out.write("\t\t\t\t\t\t 점심 투표하세요~!\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"list-detail\">\r\n");
      out.write("\t\t\t\t\t\t ㅎㅎ\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!-- <hr class=\"todo_line\" width=\"100%\"> -->\r\n");
      out.write("\t\t\t\t\t<div class=\"schedule\">\r\n");
      out.write("\t\t\t\t\t\t 일정: 2021/10/18 11:30 ~ 2021/10/19 00:00\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- todo 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- file_main 시작하는 부분 -->\r\n");
      out.write("<div id=\"file_main\" style=\"display: none;\">\r\n");
      out.write("\t<div id=\"fm_header\">\r\n");
      out.write("\t\t<div id=\"fm_header_inner_div\" ><b>파일</b></div>\r\n");
      out.write("\t\t<img src=\"images/exit.png\" style=\"float: right;\"/>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div id=\"fm_main_section\">\r\n");
      out.write("\t\t<div id=\"fm_marin_section_menu1\">\r\n");
      out.write("\t\t\t<div id=\"fm_marin_section_menu1_1\">\r\n");
      out.write("\t\t\t\t<div class=\"up2_text\">미틱토픽방</div>\r\n");
      out.write("\t\t\t\t<div class=\"up2_scroll\">&or;</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<div id=\"fm_marin_section_menu2\">\r\n");
      out.write("\t\t  <div id=\"fm_marin_section_menu2_1\">\r\n");
      out.write("\t\t\t   <div class=\"up2_text\">모든 멤버</div>\r\n");
      out.write("\t\t\t   <div class=\"up2_scroll\">&or;</div>\r\n");
      out.write("\t\t  </div>\r\n");
      out.write("\t\t</div>  \r\n");
      out.write("\t\t<div id=\"fm_marin_section_menu3\">\r\n");
      out.write("\t\t\t<div id=\"fm_marin_section_menu3_1\" >\r\n");
      out.write("\t\t\t\t<div class=\"up2_text\" >모든 파일</div>\r\n");
      out.write("\t\t\t\t<div class=\"up2_scroll\">&or;</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div> <!--위에서 두번째 div닫는태그-->\r\n");
      out.write("\t<div id=\"fm_section2\">\r\n");
      out.write("\t\t<div id=\"fm_sec2_count\"class=\"gray_font\">\"<span id=\"black_font\">1</span>\"개가 로딩되었습니다.</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div id=\"fm_sec2_2\">\r\n");
      out.write("\t\t<img src=\"images/file_text.png \" width=\"80px\" height=\"80px\" id=\"fm_sec2_img\"/>\r\n");
      out.write("\t\t<div style=\"float: left;\">\r\n");
      out.write("\t\t\t<div class=\"up3_text\">\r\n");
      out.write("\t\t\t\t<div style=\"float: left;\">박주호 &nbsp;</div>\r\n");
      out.write("\t\t\t\t<div style=\"float: left;\" class=\"gray_font\">2021/11/24 2:22 PM</div>\r\n");
      out.write("\t\t\t\t<div style=\"clear: both;\"></div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<div class=\"up3_text\" style=\"font-weight: 600;\">chrome.exe</div>\r\n");
      out.write("\t\t\t<div id=\"fm_topic_name\" class=\"up3_text\">미팅토픽방</div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<div style=\"background-color: #f2f4f8 ;height: 57vh;\">\r\n");
      out.write("\t\t<img src=\"images/fl_bottom_round.png\" style=\"margin: 0 auto; display: block;\"/>\r\n");
      out.write("\t</div>\r\n");
      out.write("</div>\r\n");
      out.write("<!-- file_main 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- vote 시작하는 부분 -->\r\n");
      out.write("\t\t\t<div id=\"vote\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div class=\"vote-top\">\r\n");
      out.write("\t\t\t\t\t<span class=\"vote_title\">\r\n");
      out.write("\t\t\t\t\t투표 </span>\r\n");
      out.write("\t\t\t\t\t<span class=\"vote_close_image\"><img src=\"images/vote_x_button.png\"/></span>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div style=\"clear: both\">\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"class-section2\">\r\n");
      out.write("\t\t\t\t\t<div class=\"making-vote\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"button-box\">\r\n");
      out.write("\t\t\t\t\t\t\t<button type=\"button\" class=\"vote_making_button\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"vote-make-image\" style=\"float:left;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<span>\r\n");
      out.write("\t\t\t\t\t\t\t\t<img src=\"images/vote_plus_button.png\" class=\"vote-image\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"vote-make\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"vote-text\">\r\n");
      out.write("\t\t\t\t\t\t\t\t투표 만들기 </span>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"vote-list\">\r\n");
      out.write("\t\t\t\t\t\t<ul class=\"vote-list-ul\">\r\n");
      out.write("\t\t\t\t\t\t\t<li class=\"ng-scope\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"vote-card\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"vote-thesis\"> 점심 메뉴 </span>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"vote-end-button\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"vote-end\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t투표 마감 </span>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"vote-participants\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 박소진, 박주호\r\n");
      out.write("\t\t\t\t\t\t\t\t\t \r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"vote-info\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div class=\"vote-info-image\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<span><img src=\"images/vote_people.png\"></span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"participants-num\"> 3명 참여 </span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div class=\"vote-info-clockimage\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<span><img src=\"images/vote_clock.png\"></span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"vote-end-time\"> 2021/10/19 12:00 PM 마감됨</span>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t\t<li class=\"ng-scope\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"vote-card\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"vote-thesis\"> 오늘 점심 </span>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"vote-end-button\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"vote-end\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t투표 마감 </span>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"vote-participants\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 박소진, 박주호\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"vote-info\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div class=\"vote-info-image\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<span><img src=\"images/vote_people.png\"></span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"participants-num\"> 3명 참여 </span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div class=\"vote-info-clockimage\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<span><img src=\"images/vote_clock.png\"></span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"vote-end-time\"> 2021/10/19 12:00 PM 마감됨</span>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t\t<li class=\"ng-scope\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"vote-card\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"vote-thesis\"> 오늘 점심 </span>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"vote-end-button\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"vote-end\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t투표 마감 </span>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"vote-participants\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 박소진, 박주호\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"vote-info\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div class=\"vote-info-image\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<span><img src=\"images/vote_people.png\"></span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"participants-num\"> 3명 참여 </span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div class=\"vote-info-clockimage\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<span><img src=\"images/vote_clock.png\"></span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"vote-end-time \"> 2021/10/19 12:00 PM 마감됨</span>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- vote 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- orga 시작하는 부분 -->\r\n");
      out.write("\t\t\t<div id=\"orga\" style=\"display: none; \">\r\n");
      out.write("\t\t\t\t<div class=\"orgaA\">\r\n");
      out.write("\t\t\t\t\t<span>\r\n");
      out.write("\t\t\t\t\t<img src=\"images/people.png\" class=\"orga_imgA\"/>\r\n");
      out.write("\t\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t\t<span class=\"oraga_spanA\">\r\n");
      out.write("\t\t\t\t\t조직도 </span>\r\n");
      out.write("\t\t\t\t\t<span><img src=\"images/x.png\" class=\"orga_close\"/></span>\r\n");
      out.write("\t\t\t\t\t<div style=\"clear: both\">\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!-- 부서,멤버 -->\r\n");
      out.write("\t\t\t\t\t<div class=\"orgaB\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"orgaC\">\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"orga_spanB\">부서</span>\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"orga_spanC\">멤버</span>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!-- 검색 -->\r\n");
      out.write("\t\t\t\t\t<div class=\"orgaD\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"orgaE\">\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"orga_spanD\">\r\n");
      out.write("\t\t\t\t\t\t\t<i class=\"fa fa-search\" style=\"margin-left: -25px\"></i>\r\n");
      out.write("\t\t\t\t\t\t\t&nbsp;&nbsp;부서 이름을 검색하세요.</span>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!-- 개발1팀  -->\r\n");
      out.write("\t\t\t\t\t<div class=\"orgaF\">\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t");
      out.write("\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\t");
 
						for(department_cnt orga : d_cnt) {
					
      out.write("\r\n");
      out.write("\t\t\t\t\t\t<div class=\"orgaG\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class = \"orga_spanE\">");
      out.print(((orga.getP_department()==null) ? "부서를 설정하지 않은 멤버": orga.getP_department()));
      out.write("</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"dept_cnt2\"><input type = \"text\" disabled=\"disabled\" name = \"departmentMemCount\" class = \"dept_cnt\" value = ");
      out.print(orga.getP_department_cnt());
      out.write("></div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t");
 
						}
					
      out.write("\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\t\t<!-- 소진, 정회원 -->\r\n");
      out.write("\t\t\t\t\t<div class=\"orgaJ\">\r\n");
      out.write("\t\t\t\t\t\t");
 for (profileVO orga_profile : profileList2) {
							if(loginEmail.equals(orga_profile.getP_email())) {
						
      out.write("\r\n");
      out.write("\t\t\t\t\t\t<div style = \"margin-top : 15px;\">\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"");
      out.print(((orga_profile.getP_image()==null)?"https://i.ibb.co/5G1vGSt/image.jpg":orga_profile.getP_image()) );
      out.write("\" class=\"orga_imgD\"/>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"orgaK\">\r\n");
      out.write("\t\t\t\t\t\t\t");
      out.print( orga_profile.getMem_name());
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div style=\"clear: both\">\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"orgaL\">\r\n");
      out.write("\t\t\t\t\t\t\t");

								String orga_department = orga_profile.getP_department();
								String orga_position = orga_profile.getP_position();
								if(orga_profile.getP_department()==null){
									orga_department = "";
									System.out.println("널값입니당");
								}
								if(orga_profile.getP_position() == null){
									orga_position = "";
								}
							
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t ");
      out.print( orga_department + "\t" + orga_position);
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"images/jg_jung_member.png\" class=\"orga_imgE\"/>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t");
 
							}
							else {
								
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t<div style = \"margin-top : 15px;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<img src=\"");
      out.print(((orga_profile.getP_image()==null)?"httpss://i.ibb.co/5G1vGSt/image.jpg":orga_profile.getP_image()) );
      out.write("\" class=\"orga_imgD\"/>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"orgaK\">\r\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.print( orga_profile.getMem_name());
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div style=\"clear: both\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"orgaL\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t");

									String orga_department = orga_profile.getP_department();
									String orga_position = orga_profile.getP_position();
									if(orga_profile.getP_department()==null){
										orga_department = "";
										System.out.println("널값입니당");
									}
									if(orga_profile.getP_position() == null){
										orga_position = "";
									}
								
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t\t ");
      out.print( orga_department + "\t" + orga_position);
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t \t");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<img src=\"images/jg_jung_member.png\" class=\"orga_imgE\"/>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t");

							}
								} 
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t<!-- <div>\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"images/jg_park_image.png\" class=\"orga_imgF\"/>\r\n");
      out.write("\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"orgaM\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 박주호\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div style=\"clear: both\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"orgaN\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 개발1팀 사장\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<img class=\"orga_imgG\" src=\"images/jg_manager_logo.png\"/>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div> -->\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- orga 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- drive 시작하는 부분 -->\r\n");
      out.write("\t\t\t<div id=\"drive\">\r\n");
      out.write("\t\t\t\t<div class=\"drive_div\">\r\n");
      out.write("\t\t\t\t\t 죄송합니다. 준비중입니다 :P <br>\r\n");
      out.write("\t\t\t\t\t Sorry <br>\r\n");
      out.write("\t\t\t\t\t We are preparing for the service. <br>\r\n");
      out.write("\t\t\t\t\t :P\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- drive 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- connect 시작하는 부분 -->\r\n");
      out.write("\t\t\t<div id=\"connect\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div class=\"connect_text\">\r\n");
      out.write("\t\t\t\t\t 죄송합니다. 준비중입니다 :P <br>\r\n");
      out.write("\t\t\t\t\t Sorry <br>\r\n");
      out.write("\t\t\t\t\t We are preparing for the service. <br>\r\n");
      out.write("\t\t\t\t\t :P\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- connect 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- bookmark_main_div 시작하는 부분 -->\r\n");
      out.write("\t\t\t<div id=\"bookmark_main_div\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div class=\"bookmark_main_favorite\">\r\n");
      out.write("\t\t\t\t\t<div class=\"bookmark_main_favorite_text\">\r\n");
      out.write("\t\t\t\t\t\t 즐겨찾기\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<img class=\"bookmark_main_favorite_image\" src=\"images/exit.png\">\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div style=\"clear:both;\">\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"bookmark_main_types\">\r\n");
      out.write("\t\t\t\t\t<div class=\"bookmark_type1\">\r\n");
      out.write("\t\t\t\t\t\t 모든 형식\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"bookmark_type2\">\r\n");
      out.write("\t\t\t\t\t\t 파일 형식\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=bookmark1>\r\n");
      out.write("\t\t\t\t\t<div class=bookmark1_div>\r\n");
      out.write("\t\t\t\t\t\t<img class=\"bookmark1_div_image\" src=\"images/pro_img.png\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"bookmark1_div_div\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"bookmark1_div_div_name\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 박주호 &nbsp;\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"bookmark1_div_div_time\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 2021/10/29 12:28 PM\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div style=\"clear: both;\">\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"bookmark1_div_div_roomname\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 미틱토픽방\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<img class=bookmark1_div_div_image src=\"images/bookmark.png\">\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div style=\"clear: both;\">\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"bookmark1_div_appointment\">\r\n");
      out.write("\t\t\t\t\t\t 채은,소진 11-26 약속\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=bookmark2>\r\n");
      out.write("\t\t\t\t\t<div class=bookmark2_div>\r\n");
      out.write("\t\t\t\t\t\t<img class=bookmark2_div_image src=\"images/small_fileimage.png\">\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"bookmark2_div2\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"bookmark2_div2_div1\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"bookmark2_div2_div1_name\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 박주호 &nbsp;\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"bookmark2_div2_div1_time\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 2021/11/25 11:05 AM\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div style=\"clear:both;\">\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"bookmark2_div2_div2\">\r\n");
      out.write("\t\t\t\t\t\t\t Oracle system1234.sql\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"bookmark2_div2_div2_roomname\">\r\n");
      out.write("\t\t\t\t\t\t\t 박소진,이채은\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<img class=\"bookmark2_div2_div2_image\" src=\"images/bookmark.png\">\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!--첫째줄-->\r\n");
      out.write("\t\t\t\t\t<div style=\"clear:both;\">\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<!--젤 큰 div-->\r\n");
      out.write("\t\t\t\t<div class=bookmark3>\r\n");
      out.write("\t\t\t\t\t<img class=bookmark3_image src=\"images/fl_bottom_round.png\">\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t<!--젤 큰 div-->\r\n");
      out.write("<!-- bookmark_main_div 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- mention_main_div시작 부분 -->\r\n");
      out.write("\t\t\t<div id=\"mention_main_div\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div class=\"mention_top\">\r\n");
      out.write("\t\t\t\t\t<div class=\"mention_text\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"mention_text2\">멘션</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<img class=\"mention_image\" src=\"images/exit.png\">\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"mention_list_date\">\r\n");
      out.write("\t\t\t\t\t 2021년 11월 12일 금요일\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"mention_list_info\">\r\n");
      out.write("\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t<img src=\"images/lee_chea_pro.png\" class=\"chens_img\"/>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"mention_list_info_div\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"mention_list_info_div_name\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 이채은\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"mention_list_info_div_date\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 2021/11/12 3:22 PM\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div style=\"clear: both;\">\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"mention_list_info_div_teamname\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 박소진,이채은\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div style=\"clear: both;\">\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"mention_list_mentioned\">\r\n");
      out.write("\t\t\t\t\t\t 박주호\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"mention_div2\">\r\n");
      out.write("\t\t\t\t\t<img class=\"mention_div2_image\" src=\"images/fl_bottom_round.png\">\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- mention_main_div 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- myDIV 시작 부분 -->\r\n");
      out.write("<script>\r\n");
      out.write("function press(f){ \r\n");
      out.write("\tif(f.keyCode == 13){ formname.submit(); \r\n");
      out.write("\t\t} \r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("$(function(){\r\n");
      out.write("\t$(\"#pronounce_id\").keydown(function(key){\r\n");
      out.write("\t\tif(key.keyCode == 13){\r\n");
      out.write("\t\t\tvar new_pron = $(this).val();\r\n");
      out.write("\t\t\tvar p_t_index = $(\"#pron_t_index\").val();\r\n");
      out.write("\t\t\tvar p_email = $(\"#pron_t_email\").val();\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\t\turl : \"../PronounceServlet\",\r\n");
      out.write("\t\t\t\tdata : {\"update_pron\":new_pron,\"p_t_index\":p_t_index,\"p_email\":p_email},\r\n");
      out.write("\t\t\t\tdatatype : \"json\",\r\n");
      out.write("\t\t\t\tsuccess : function(data){\r\n");
      out.write("\t\t\t\t\t$(this).val(data.updatepron);\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\terror : function(request,status,error){\r\n");
      out.write("\t\t\t\t\talert(\"넣는거실패함ㅋㅋ\");\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("$(function(){\r\n");
      out.write("\t$(\"#p_department\").keydown(function(key){\r\n");
      out.write("\t\tif(key.keyCode == 13){\r\n");
      out.write("\t\t\tvar new_department = $(this).val();\r\n");
      out.write("\t\t\tvar p_t_index = $(\"#pron_t_index\").val();\r\n");
      out.write("\t\t\tvar p_email = $(\"#pron_t_email\").val();\r\n");
      out.write("\t\t\t/* alert(p_email); */\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\t\turl : \"../DepartmentServlet\",\r\n");
      out.write("\t\t\t\tdata : {\"new_department\":new_department,\"p_t_index\":p_t_index,\"p_email\":p_email},\r\n");
      out.write("\t\t\t\tdatatype : \"json\",\r\n");
      out.write("\t\t\t\tsuccess : function(data){\r\n");
      out.write("\t\t\t\t\t/* alert('성공'); */\r\n");
      out.write("\t\t\t\t\t$(this).val(data.updatedepartment);\r\n");
      out.write("\t\t\t\t\t$(\"#orgaL_input\").val(data.updatedepartment);\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\terror : function(request,status,error){\r\n");
      out.write("\t\t\t\t\talert(\"넣는거실패함ㅋㅋ\");\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("});\r\n");
      out.write("</script>\r\n");
      out.write("\t\t\t<input id = \"pron_t_email\" type = \"hidden\" value = \"");
      out.print(loginEmail);
      out.write("\">\r\n");
      out.write("\t\t\t<form action = \"profile_change.jsp\">\r\n");
      out.write("\t\t\t\t\t<input type = \"hidden\" name = \"domainA\" value = \"");
      out.print(domain);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t<input type = \"hidden\" name = \"ownerA\" value = \"");
      out.print(owner);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t<input  type = \"hidden\" name = \"domain\" value = \"");
      out.print(domain);
      out.write("\" onkeypress=\"JavaScript:press(this.form)\"> \r\n");
      out.write("\t\t\t\t\t<input id=\"pron_t_index\" type = \"hidden\" name = \"t_index\" value = \"");
      out.print(t_index);
      out.write("\" onkeypress=\"JavaScript:press(this.form)\">  \r\n");
      out.write("\t\t\t<div id=\"myDIV\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div id=\"top\">\r\n");
      out.write("\t\t\t\t\t<div id=\"top_A\">\r\n");
      out.write("\t\t\t\t\t\t<a href=\"javascript:doDisplay30();\">\r\n");
      out.write("\t\t\t\t\t\t<div id=\"circleA\">\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"");
      out.print(((p_image_url==null)?"https://i.ibb.co/5G1vGSt/image.jpg":p_image_url) );
      out.write("\" alt=\"\" class=\"mydiv_imgA\">\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t<div id=\"circleB\">\r\n");
      out.write("\t\t\t\t\t\t\t<div id=\"round\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 소유자\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div id=\"image\">\r\n");
      out.write("\t\t\t\t\t\t\t<li><img src=\"images/gift2.png\" alt=\"\" class=\"mydivA\"></li>\r\n");
      out.write("\t\t\t\t\t\t\t<li class=\"mydivB\"><img src=\"images/airplane3.png\" alt=\"\" class=\"mydiv_imgB\"></li>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t<div id=\"profile\">\r\n");
      out.write("\t\t\t\t\t\t<ul>\r\n");
      out.write("\t\t\t\t\t\t\t<li>");
      out.print(profile_name);
      out.write("</li>\r\n");
      out.write("\t\t\t\t\t\t\t<li> \r\n");
      out.write("\t\t\t\t\t\t\t\t<input id=\"pronounce_id\" style = \"background-color: transparent; color:white; border: 0px solid; \"type = \"text\" name = \"profile_pronounce\" placeholder = \"발음\" value = '");
      out.print((p_pronounce==null ? "" : p_pronounce) );
      out.write("' onkeypress=\"JavaScript:press(this.form)\">\r\n");
      out.write("\t\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t\t<li>\r\n");
      out.write("\t\t\t\t\t\t\t\t<input style = \"background-color: transparent; color:white; border: 0px solid; \"type = \"text\" name = \"profile_state\" placeholder = \"상태설정\" value = '");
      out.print((p_state==null ? "" : p_state) );
      out.write("' onkeypress=\"JavaScript:press(this.form)\">\r\n");
      out.write("\t\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t\t<li>\r\n");
      out.write("\t\t\t\t\t\t\t\t<input style = \"background-color: transparent; color:white; border: 0px solid; \"type = \"text\" name = \"profile_statemessage\" placeholder = \"상태메세지\" value = '");
      out.print((p_statemessage==null ? "" : p_statemessage) );
      out.write("' onkeypress=\"JavaScript:press(this.form)\">\r\n");
      out.write("\t\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!-- <input type = \"submit\" name = \"profile_change\" value = \"\" style = \"background-color:transparent; border: 0px transparent solid;\"> -->\r\n");
      out.write("\t\t\t\t<!-- \t</form> -->\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<!--------------------------------->\r\n");
      out.write("\t\t\t\t<!-- <form action=\"profile_changeB.jsp\"> -->\r\n");
      out.write("\t\t\t\t<input type = \"hidden\" name = \"domain\" value = \"");
      out.print(domain);
      out.write("\" onkeypress=\"JavaScript:press(this.form)\"> \r\n");
      out.write("\t\t\t\t<input type = \"hidden\" name = \"t_index\" value = \"");
      out.print(t_index);
      out.write("\" onkeypress=\"JavaScript:press(this.form)\">  \r\n");
      out.write("\t\t\t\t\t<div id=\"bottom\">\r\n");
      out.write("\t\t\t\t\t\t<div id=\"first\">\r\n");
      out.write("\t\t\t\t\t\t\t<ul class=\"mydiv_ul\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<li class=\"mydiv_li\"><input style = \"background-color: transparent;  border: 0px solid; \"type = \"text\" id = \"p_department\" name = \"profile_department\" placeholder = \"부서명\" value = '");
      out.print((p_department==null ? "" : p_department) );
      out.write("' onkeypress=\"JavaScript:press(this.form)\"></li>\r\n");
      out.write("\t\t\t\t\t\t\t\t<li><input style = \"background-color: transparent;  border: 0px solid; \"type = \"text\" name = \"profile_position\" placeholder = \"직책\" value = '");
      out.print((p_position==null ? "" : p_position) );
      out.write("' onkeypress=\"JavaScript:press(this.form)\"></li>\r\n");
      out.write("\t\t\t\t\t\t\t\t<li>___</li>\r\n");
      out.write("\t\t\t\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div id=\"second\">\r\n");
      out.write("\t\t\t\t\t\t\t<ul class=\"mydiv_ul\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<li><img src=\"images/cake.png\" alt=\"\">&nbsp; <input style = \"background-color: transparent;  border: 0px solid; \"type = \"text\" name = \"profile_birth\" placeholder = \"yyyy년m월d일\" value = '");
      out.print((p_birth==null ? "" : p_birth) );
      out.write("' onkeypress=\"JavaScript:press(this.form)\"></li>\r\n");
      out.write("\t\t\t\t\t\t\t\t<li><img src=\"images/phone.png\" alt=\"\">&nbsp; <input style = \"background-color: transparent;  border: 0px solid; \"type = \"text\" name = \"profile_phone\" placeholder = \"전화번호\" value = '");
      out.print((p_phone==null ? "" : p_phone) );
      out.write("' onkeypress=\"JavaScript:press(this.form)\"></li>\r\n");
      out.write("\t\t\t\t\t\t\t\t<li><img src=\"images/message.png\" alt=\"\">&nbsp; ");
      out.print(loginEmail );
      out.write("</li>\r\n");
      out.write("\t\t\t\t\t\t\t\t<li><img src=\"images/file.png\" alt=\"\">&nbsp; 파일 리스트</li>\r\n");
      out.write("\t\t\t\t\t\t\t\t<li><img src=\"images/mention.png\" alt=\"\">&nbsp; 멘션</li>\r\n");
      out.write("\t\t\t\t\t\t\t\t<li><img src=\"images/logout.png\" alt=\"\">&nbsp;<a href=\"teamer_logout.jsp\" style=\"color: black;\"> 로그아웃 </a>\r\n");
      out.write("\t\t\t\t\t\t\t\t</li>\r\n");
      out.write("\t\t\t\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<input type = \"submit\" name = \"profile_change\" value = \"\" style = \"background-color:transparent; border: 0px transparent solid;\">\r\n");
      out.write("\t\t\t\t</form>\r\n");
      out.write("<!-- myDIV 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- chatframe 시작 부분 -->\r\n");
      out.write("\t\t\t<div id=\"chatframe\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<ul id=\"chatframe_ul\">\r\n");
      out.write("\t\t\t\t\t<div id=\"chatframe_ul_div\">\r\n");
      out.write("\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:doDisplay14();\">\r\n");
      out.write("\t\t\t\t\t\t\t<li>&nbsp; 채팅 시작하기</li>\r\n");
      out.write("\t\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div id=\"past_conver_see\">\r\n");
      out.write("\t\t\t\t\t\t\t<li>&nbsp;&nbsp;차단 또는 탈퇴한 멤버와의 과거 대화 보기</li>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</ul>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- chatframe 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- chatstart 시작 부분 -->\r\n");
      out.write("\t\t\t<div id=\"chatstart\">\r\n");
      out.write("\t\t\t\t<div class=\"chatstart_frame\">\r\n");
      out.write("\t\t\t\t\t<header class=\"chatstart_header\">\r\n");
      out.write("\t\t\t\t\t<div class=\"chatstart_fontA\">\r\n");
      out.write("\t\t\t\t\t\t 채팅 시작하기\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<img src=\"images/exit_white.png\" class=\"close_btn3\" width=\"35\"/>\r\n");
      out.write("\t\t\t\t\t</header>\r\n");
      out.write("\t\t\t\t\t<section class=\"chatstart_section\">\r\n");
      out.write("\t\t\t\t\t<div class=\"chatstart_frameA\">\r\n");
      out.write("\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"left_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"gray_title\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 이름\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<input class=\"chatstart_input\" type=\"text\" placeholder=\"검색어를 입력하세요.\">\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"left_div\" style=\"border-radius: 15px\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"gray_title\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 부서\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"child_span\"><span class=\"chatstart_span\">전체</span></button>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"left_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"gray_title\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 직책\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"child_span\"><span class=\"chatstart_span\">전체</span></button>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"left_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"gray_title\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 권한\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"child_span\"><span class=\"chatstart_span\">전체</span></button>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"chatstart_fontB\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 검색조건 초기화\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"chatstart_frameB\">\r\n");
      out.write("\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t 팀 멤버\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"chatstart_frameC\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"chatstart_frameD\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"chatstart_frameE\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<img src=\"images/mp_teamer_logo.png\" class=\"chatstart_imageA\"/>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div class=\"chatstart_fontC\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t TEAMER\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t<!-- 파추호  -->\r\n");
      out.write("\t\t\t\t\t<!-- 주호 채팅 멤버 리스트 띄우기 -->\t\t\r\n");
      out.write("\t\t\t\t");

                     ArrayList<chat_memVO> ch_mem_list = new ArrayList<chat_memVO>();
                     sql="SELECT P.P_EMAIL, P.P_IMAGE, P.P_POSITION, P.P_DEPARTMENT, M.MEM_NAME FROM PROFILE P, MEMBERS M WHERE P.P_EMAIL = M.MEM_EMAIL AND P_T_INDEX = ? AND M.MEM_EMAIL <> ?";
                  
                     pstmt=conn.prepareStatement(sql);
                     pstmt.setString(1, t_index);
                     pstmt.setString(2, loginEmail);
                     
                     rs=pstmt.executeQuery();
                     String chat_mem_email_arr[]=null;
                     
                     while(rs.next()){
                        String mem_email_j = rs.getString("p_email");
                        String p_image_j = rs.getString("p_image");
                        String mem_name_j = rs.getString("mem_name");
                        String p_position_j = rs.getString("p_position");
                        String p_department_j = rs.getString("p_department");
                        ch_mem_list.add(new chat_memVO(mem_email_j,p_image_j,mem_name_j,p_position_j,p_department_j));
                     }
                        /* ch_mem_list와 내가 로그인한 이메일을 비교함 */
                        /* for(int i=0;i<ch_mem_list.size()-1;i++){
                           chat_mem_email_arr[i]=mem_email;
                        } */
                        
                  
      out.write("\r\n");
      out.write("                  <script>\r\n");
      out.write("                  /* $(\"#chatstart\").on(\"click\",function(){\r\n");
      out.write("                     $(\"#chatstart\").css({\"display\":\"block\"});\r\n");
      out.write("                     alert(\"왜 안돼\");\r\n");
      out.write("                  }); */\r\n");
      out.write("                  \r\n");
      out.write("                  //이후에 꺼짐\r\n");
      out.write("                  </script>\r\n");
      out.write("                  ");

                     for(chat_memVO cmvo  :ch_mem_list){
                  
      out.write("\r\n");
      out.write("\r\n");
      out.write("                     <div id=\"chatstart_frameF\" class=\"chatstart_frameF\" data_image=\"");
      out.print(cmvo.getP_image() );
      out.write("\" data_email=\"");
      out.print(cmvo.getMem_email());
      out.write("\" data_name=\"");
      out.print(cmvo.getMem_name());
      out.write("\" data_position=\"");
      out.print(cmvo.getP_position());
      out.write("\" data_department=\"");
      out.print(cmvo.getP_department());
      out.write("\">\r\n");
      out.write("                        <div class=\"chatstart_frameG\">\r\n");
      out.write("                           <img src=\"");
      out.print(cmvo.getP_image() );
      out.write("\" class=\"chatstart_imageB\"/>\r\n");
      out.write("                           <div class=\"chatstart_frameH\">\r\n");
      out.write("                              <div>\r\n");
      out.write("                                 <div class=\"chatstart_frameI\">\r\n");
      out.write("                                     ");
      out.print(cmvo.getMem_name() );
      out.write("&nbsp;\r\n");
      out.write("                                 </div>\r\n");
      out.write("                                 <div class=\"chatstart_frameJ\">\r\n");
      out.write("                                     ");
      out.print(cmvo.getP_position() );
      out.write("\r\n");
      out.write("                                 </div>\r\n");
      out.write("                                 <div style=\"clear: both;\">\r\n");
      out.write("                                 </div>\r\n");
      out.write("                              </div>\r\n");
      out.write("                              <div class=\"chatstart_frameK\">\r\n");
      out.write("                                  ");
      out.print(cmvo.getP_department() );
      out.write("\r\n");
      out.write("                              </div>\r\n");
      out.write("                           </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div class=\"chatstart_fontD\">\r\n");
      out.write("                            정회원\r\n");
      out.write("                        </div>\r\n");
      out.write("                     </div>\r\n");
      out.write("                  \r\n");
      out.write("                  \r\n");
      out.write("                  ");

                     } 
                  
                  
      out.write("\r\n");
      out.write("\t\t\t\t\t<!-- 주호 채팅 멤버 리스트 띄우기 끝-->\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t<!-- 멤버 클릭 시 밑에 div 띄우기 주호 -->\r\n");
      out.write("\t\t\t\t<script>\r\n");
      out.write("                  $(\".chatstart_frameF\").off(\"click\").on(\"click\",function(){\r\n");
      out.write("                        /*attr = 속성값을 가지고옴*/\r\n");
      out.write("                        \r\n");
      out.write("                        $(this).hide();\r\n");
      out.write("                        var chat_mem_name = $(this).attr(\"data_name\");\r\n");
      out.write("                        var chat_email =  $(this).attr(\"data_email\");\r\n");
      out.write("                        var chat_position = $(this).attr(\"data_position\");\r\n");
      out.write("                        var chat_department= $(this).attr(\"data_department\");\r\n");
      out.write("                        var chat_image=$(this).attr(\"data_image\");\r\n");
      out.write("                        \r\n");
      out.write("                              str=\r\n");
      out.write("                                 '<div id=\"cc_select_box\" class=\"cc_select_box\">'+\r\n");
      out.write("                                 '   <div id=\"cc_select_name\" image=\"'+chat_image+'\"email=\"' + chat_email + '\" position=\"'+ chat_position+'\" department=\"'+chat_department+'\">'+\r\n");
      out.write("                                       chat_mem_name+\r\n");
      out.write("                                 '   </div>'+\r\n");
      out.write("                                 '   <span class=\"cc_select_box_exit\">x</span>'+\r\n");
      out.write("                                 '</div>'\r\n");
      out.write("                                 $(\".chatstart_frameB\").html($(\".chatstart_frameB\").html() + str);\r\n");
      out.write("                                 \r\n");
      out.write("                              /* $(\".chatstart_frameB\").append(str); */\r\n");
      out.write("                              \r\n");
      out.write("                        //선택된 멤버 보이게 하기\r\n");
      out.write("                        /* $(\"#cc_select_mem\").css({\"display\":\"block\"}) ; */\r\n");
      out.write("                        /* alert(\"숨기기 전\");\r\n");
      out.write("                        $(this).css({\"display\":\"none\"});\r\n");
      out.write("                        alert(\"숨기기 후\"); */\r\n");
      out.write("               /*          $(this).css({\"display\":\"none\"}); */\r\n");
      out.write("                        /* $(\"#chatstart\").css({\"display\":\"block\"});    */\r\n");
      out.write("                        \r\n");
      out.write("                        \r\n");
      out.write("                  });\r\n");
      out.write("                  //x눌렀을 때 \r\n");
      out.write("                  $(\".cc_select_box_exit\").off(\"click\").on(\"click\",function(){\r\n");
      out.write("                     /* $(\".chatstart_frameF\").off(\"click\"); */\r\n");
      out.write("                     //$(this).parent().hide();   // 이거 대신에 \"$(this).parent().remove()\"로 대체.\r\n");
      out.write("                     /* $(\"#cc_select_mem\").css({\"display\":\"none\"}); */\r\n");
      out.write("                     /* $(\"#chatstart\").css({\"display\":\"block\"}); */\r\n");
      out.write("                     \r\n");
      out.write("                     //클릭한 값의 이름 값\r\n");
      out.write("                     var cc_name_mem2=$(this).parent().find(\"#cc_select_name\").text();\r\n");
      out.write("                     var cc_position_mem2=$(this).parent().find(\"#cc_select_name\").attr(\"position\");\r\n");
      out.write("                     var cc_department_mem2=$(this).parent().find(\"#cc_select_name\").attr(\"department\");\r\n");
      out.write("                     var cc_email_mem2=$(this).parent().find(\"#cc_select_name\").attr(\"email\");\r\n");
      out.write("                     var cc_image_mem2=$(this).parent().find(\"#cc_select_name\").attr(\"image\");\r\n");
      out.write("                     /* var cc_position_mem2 = $(this).parent().find(\".chatstart_frameJ\").text();\r\n");
      out.write("                     var cc_department_mem2 = $(this).parent().find(\".chatstart_frameK\").text(); */\r\n");
      out.write("                     /* alert(cc_name_mem2);  */\r\n");
      out.write("                     \r\n");
      out.write("                     \r\n");
      out.write("                     //cecece\r\n");
      out.write("                     \r\n");
      out.write("                     str='<div id=\"chatstart_frameF\" class=\"chatstart_frameF\" data_email=\"'+'chat_email'+'\" data_name =\"'+ cc_name_mem2 +'\" data_position =\"'+cc_position_mem2+'\" data_department =\"'+cc_department_mem2+'\">'+\r\n");
      out.write("                     '<div class=\"chatstart_frameG\">'+\r\n");
      out.write("                     '<img src=\"'+cc_image_mem2+'\" class=\"chatstart_imageB\"/>'+\r\n");
      out.write("                     '<div class=\"chatstart_frameH\">'+\r\n");
      out.write("                        '<div>'+\r\n");
      out.write("                           '<div class=\"chatstart_frameI\">'+\r\n");
      out.write("                           cc_name_mem2+\r\n");
      out.write("                           '</div>'+\r\n");
      out.write("                           '<div class=\"chatstart_frameJ\">'+\r\n");
      out.write("                           cc_position_mem2+\r\n");
      out.write("                           '</div>'+\r\n");
      out.write("                           '<div style=\"clear: both;\">'+\r\n");
      out.write("                           '</div>'+\r\n");
      out.write("                           '</div>'+\r\n");
      out.write("                           '<div class=\"chatstart_frameK\">'+   \r\n");
      out.write("                           cc_department_mem2+\r\n");
      out.write("                           '</div>'+\r\n");
      out.write("                        '</div>'+\r\n");
      out.write("                     '</div>'+\r\n");
      out.write("                     '<div class=\"chatstart_fontD\">'+\r\n");
      out.write("                        '정회원'+\r\n");
      out.write("                     '</div>'+\r\n");
      out.write("                     '</div>'\r\n");
      out.write("                     \r\n");
      out.write("                     $(\".chatstart_frameC\").html($(\".chatstart_frameC\").html() + str);\r\n");
      out.write("                     \r\n");
      out.write("                     $(this).parent().remove();\r\n");
      out.write("                  });\r\n");
      out.write("                  \r\n");
      out.write("\r\n");
      out.write("                  </script>\r\n");
      out.write("\t\t\t\t\t<!-- 멤버 클릭 시 밑에 div 띄우기 주호 끝-->\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div id=\"cc_select_mem\"> \r\n");
      out.write("                     \t<div id=\"cc_select_text\">선택된 멤버</div>\r\n");
      out.write("                  \t</div>\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</section>\r\n");
      out.write("\t\t\t\t\t<footer class=\"chatstart_footer\">\r\n");
      out.write("\t\t\t\t\t<div class=\"chatstart_frameR\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"chatstart_close\">\r\n");
      out.write("\t\t\t\t\t\t\t 닫기\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div id=\"chatstart_fontF\">\r\n");
      out.write("\t\t\t\t\t\t\t<input type = \"hidden\" class = \"t_id_park\" value = \"");
      out.print(t_index);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\t<span>대화 시작하기</span>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</footer>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- chatstart 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- offline_off 시작 부분 -->\r\n");
      out.write("\t\t\t<div id=\"offline_off\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div class=\"offline_off_div\">\r\n");
      out.write("\t\t\t\t\t<div class=\"big_div\" id=\"big_div_style\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"set_missed\">\r\n");
      out.write("\t\t\t\t\t\t\t 부재중 설정\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"exit2_div\">\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"images/exit_2.png\" class=\"close_btn4\"/>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"big_div big_div_style2\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"big_div_style3\">\r\n");
      out.write("\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"set_missed2\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 부재중 설정\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"switch_but_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<a href=\"javascript:doDisplay16();\"><img src=\"images/switch_but.png\"/></a>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div style=\"clear: both;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"miseed_explain\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"miseed_explain_span\">부재중 설정을 하시면 다른 사람에게 현재<br>\r\n");
      out.write("\t\t\t\t\t\t\t\t 부재중임을 알려주고 모바일의 푸시 알림을 끌<br>\r\n");
      out.write("\t\t\t\t\t\t\t\t 수 있습니다.</span>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"offline1_div\">\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"images/offline1.png\" class=\"offline1_img\" width=\"240px\"; height=\"130px\"/>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"big_div big_div_style4\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"big_div_cancel\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"close_btn4 close_btn4_style\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 취소\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"confirm\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 확인\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- offline_off 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- offline_on 시작 부분 -->\r\n");
      out.write("\t\t\t<div id=\"offline_on\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div class=\"offline_onA\">\r\n");
      out.write("\t\t\t\t\t<div class=\"offline_onB\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"offline_onC\">\r\n");
      out.write("\t\t\t\t\t\t\t 부재중 설정\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"offline_onD\">\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"images/exit_2.png\"/>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"offline_onE\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"offline_onF\">\r\n");
      out.write("\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"offline_onG\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 부재중 설정\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"offline_onH\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<a href=\"javascript:doDisplay17();\"><img src=\"images/offlinepage2.png\"/></a>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<!--스윗치 버튼-->\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div style=\"clear: both;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"offline_onI\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<span class=\"offline_on_spanA\">부재중 설정을 하시면 다른 사람에게 현재<br>\r\n");
      out.write("\t\t\t\t\t\t\t\t 부재중임을 알려주고 모바일의 푸시 알림을 끌<br>\r\n");
      out.write("\t\t\t\t\t\t\t\t 수 있습니다.</span>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"offline_onJ\">\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"images/offline1.png\" width=\"240px\" height=\"130px\" class=\"offline_on_imgA\"/>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"offline_onK\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"offline_onL\">\r\n");
      out.write("\t\t\t\t\t\t\t<span class=\"offline_on_spanB\">기간</span>\r\n");
      out.write("\t\t\t\t\t\t\t<p class=\"offline_on_pA\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 선택한 시작일의 0시부터 종료일의 24시까지로<br/> 설정됩니다. (최대 3년)\r\n");
      out.write("\t\t\t\t\t\t\t</p>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<!--기간단락에 왼쪽 div 닫는태그-->\r\n");
      out.write("\t\t\t\t\t\t<div class=\"offline_onM\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"offline_onN\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"offline_onO\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 시작일\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"offline_onP\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 2021/11/25\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"offline_onQ\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"offline_onR\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 종료일\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"offline_onS\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 2021/11/25\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"offline_onT\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 총 1일\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<!--기간단락에 오른쪽 div 닫는태그-->\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"offline_onU\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"offline_onV\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"offline_onW\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 모바일 푸시 알림 설정\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"images/switch_but_page2.png\" class=\"offline_onX\"/>\r\n");
      out.write("\t\t\t\t\t\t\t<div style=\"clear: both;\">\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<span class=\"offline_onY\">설정을 OFF시 설정 기간 동안 사용 중인 모바일로 푸시 알림을 보내지 않습니다.<br/>\r\n");
      out.write("\t\t\t\t\t\tON시 기존 모바일 푸시 설정이 유지됩니다.</span>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"offline_onZ\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"offline_on_option\">\r\n");
      out.write("\t\t\t\t\t\t\t 안내 메시지 (옵션)\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"offline_on_textA\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 문구 작성 시 프로필 상태 메시지를 통해 다른<br/> 사용자들에게 안내됩니다.\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<textarea class=\"offline_on_textarea\" cols=\"35\" rows=\"4\"></textarea>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"offline_on_frame\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"offline_on_check\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"offline_on_cancle\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 취소\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"offline_on_ok\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 확인\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- offline_on 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- invite_mem 시작 부분 -->\r\n");
      out.write("\t\t\t<div id=\"invite_mem\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div id=\"im_invite_mem_main_div\">\r\n");
      out.write("\t\t\t\t\t<header id=\"im_header\">\r\n");
      out.write("\t\t\t\t\t<div id=\"im_invite_mem_text\">\r\n");
      out.write("\t\t\t\t\t\t 멤버 초대하기\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<img src=\"images/exit_white.png\" width=\"35\" id=\"im_close_but\" class=\"close_btn3\"/>\r\n");
      out.write("\t\t\t\t\t</header>\r\n");
      out.write("\t\t\t\t\t<section id=\"im_main_section\">\r\n");
      out.write("\t\t\t\t\t<div id=\"in_main_section_left\">\r\n");
      out.write("\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"left_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"gray_title\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 이름\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type=\"text\" placeholder=\"검색어를 입력하세요.\" id=\"im_name_search\">\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"left_div\" style=\"border-radius: 15px\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"gray_title\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 부서\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"child_span\"><span class=\"im_department_but\">전체</span></button>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"left_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"gray_title\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 직책\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"child_span\"><span class=\"im_department_but\">전체</span></button>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"left_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"gray_title\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 권한\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"child_span\"><span class=\"im_department_but\">전체</span></button>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div id=\"im_search_reset\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 검색조건 초기화\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div id=\"im_main_section_right\">\r\n");
      out.write("\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t 팀 멤버\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div id=\"im_center_div_box\">\r\n");
      out.write("\t\t\t\t\t\t\t<p id=\"im_center_box_text1\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 이 토픽에는 참여 가능한 모든 멤버들이 참여<br/> 중입니다\r\n");
      out.write("\t\t\t\t\t\t\t</p>\r\n");
      out.write("\t\t\t\t\t\t\t<p id=\"im_center_box_text2\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 지금 바로 코리에 새로운 멤버를 초대해보세요\r\n");
      out.write("\t\t\t\t\t\t\t</p>\r\n");
      out.write("\t\t\t\t\t\t\t<div id=\"im_center_box_text3\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<span id=\"im_center_box_text4\">팀에 멤버 초대하기</span>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</section>\r\n");
      out.write("\t\t\t\t\t<footer id=\"im_footer\">\r\n");
      out.write("\t\t\t\t\t<div id=\"im_footer_bottom_box\">\r\n");
      out.write("\t\t\t\t\t\t<div id=\"im_bottom_box_close_text\" class=\"close_btn4\">\r\n");
      out.write("\t\t\t\t\t\t\t 닫기\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div id=\"im_footer_bottom_invite\">\r\n");
      out.write("\t\t\t\t\t\t\t<span>초대하기</span>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</footer>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- invte_mem 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- topicmenu 시작 부분 -->\r\n");
      out.write("\t\t\t<div id=\"topicmenu\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<ul id=\"tm_tipic_ul\">\r\n");
      out.write("\t\t\t\t\t<div id=\"tm_tipic_ul_div\">\r\n");
      out.write("\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:doDisplay21();\">\r\n");
      out.write("\t\t\t\t\t\t\t<li>&nbsp; 새로운 토픽 생성하기</li>\r\n");
      out.write("\t\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div id=\"tm_tipic_ul_div2\">\r\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:doDisplay22();\">\r\n");
      out.write("\t\t\t\t\t\t\t<li>&nbsp;&nbsp;참여 가능한 토픽 보기</li>\r\n");
      out.write("\t\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</ul>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- topicmenu 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- createTopic 시작하는 부분 -->\r\n");
      out.write("\t<input type = \"hidden\" name = \"team_index\" value = \"");
      out.print(t_index);
      out.write("\">\r\n");
      out.write("\t\t\t\t<div id=\"createTopic\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div id=\"ct_createtopic_div\">\r\n");
      out.write("\t\t\t\t\t<div id=\"ct_newtopic_Text\">\r\n");
      out.write("\t\t\t\t\t\t 새 토픽 생성 <img src=\"images/x2.png\" id=\"ct_newtopic_text_img\" class=\"close_btn3\"/>\r\n");
      out.write("\t\t\t\t\t\t<!-- ------이름------ -->\r\n");
      out.write("\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div id=\"ct_newtopic_name_text\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 이름 <!-- <img src=\"images/*.png\" id=\"ct_newtopic_name_img\"> -->\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"topic_name\" placeholder=\"토픽이름을 입력하세요.\" id=\"ct_search_topic\"/>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div id=\"ct_search_topic_bottom_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span id=\"ct_search_topic_min\">0</span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span id=\"ct_search_topic_max\"> / 60</span>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<!-- ------토픽 설명(옵션)------ -->\r\n");
      out.write("\t\t\t\t\t\t<div id=\"ct_big_bottom_div\">\r\n");
      out.write("\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div id=\"ct_bottom_div_text1\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 공개 여부 <img src=\"images/*.png\" id=\"ct_bottom_img\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div id=\"ct_big_bottom_div_child\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t 공개 여부 설정은 이후에 변경이\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t 불가능합니다.\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<!-- --------비공개/공개-------- -->\r\n");
      out.write("\t\t\t\t\t\t\t<div id=\"ct_open_notop_big_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div id=\"ct_open_notop_div_child\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div id=\"ct_notopen_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<input id = \"topic_not_public\" type=\"radio\" name=\"t_public\" value=\"n\"/> 비공개\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div id=\"ct_open_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<input id = \"topic_public\" type=\"radio\" name=\"t_public\" value=\"y\" checked/> 공개\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<!-- -------취소----- -->\r\n");
      out.write("\t\t\t\t\t\t\t<div id=\"ct_bottom_cancle_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div id=\"ct_bottom_cancle_div_text\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 닫기\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<!-- -------완료------  -->\r\n");
      out.write("\t\t\t\t\t\t\t\t<div id=\"ct_bottom_construct_div_text\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t <input type=\"submit\" value=\"생성하기\"/>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- createTopic 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- topic_search 시작 부분 -->\r\n");
      out.write("\t\t\t<div id=\"topic_search\">\r\n");
      out.write("\t\t\t\t<div id=\"tl_main\">\r\n");
      out.write("\t\t\t\t\t<header id=\"tl_header\">\r\n");
      out.write("\t\t\t\t\t<div id=\"tl_list_text\">\r\n");
      out.write("\t\t\t\t\t\t토픽 목록\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<img src=\"images/exit_2.png\" width=\"30\" id=\"tl_exit\"/>\r\n");
      out.write("\t\t\t\t\t</header>\r\n");
      out.write("\t\t\t\t\t<section id=\"tl_section1\">\r\n");
      out.write("\t\t\t\t\t<img src=\"images/reading_glasses.png\" id=\"tl_search_img\"/>\r\n");
      out.write("\t\t\t\t\t<input type=\"text\" placeholder=\"토픽 이름을 검색하세요\" id=\"tl_search_input\"/>\r\n");
      out.write("\t\t\t\t\t</section>\r\n");
      out.write("\t\t\t\t\t<section id=\"tl_section2\">\r\n");
      out.write("\t\t\t\t\t<div id=\"topic1\">\r\n");
      out.write("\t\t\t\t\t\t<div id=\"topic1_left\">\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"images/topic_list.png\" class=\"topic1_float\"/>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"topic1_float\" id=\"topic1_name\">\r\n");
      out.write("\t\t\t\t\t\t\t\t신경쓰지마토픽\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div id=\"topic1_right\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"topic1_time\">\r\n");
      out.write("\t\t\t\t\t\t\t\t2021/11/11 &nbsp; 12:41 PM\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"topic1_membercount\">\r\n");
      out.write("\t\t\t\t\t\t\t\t2명\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div id=\"topic2\">\r\n");
      out.write("\t\t\t\t\t\t<div id=\"topic2_left\">\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"images/topic_list.png\" class=\"topic1_float\"/>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"topic1_float\" id=\"topic2_name\">\r\n");
      out.write("\t\t\t\t\t\t\t\t테스트 토픽입니다\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div id=\"topic2_right\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"topic1_time\">\r\n");
      out.write("\t\t\t\t\t\t\t\t2021/11/11 &nbsp; 12:40 PM\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"topic1_membercount\">\r\n");
      out.write("\t\t\t\t\t\t\t\t1명\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</section>\r\n");
      out.write("\t\t\t\t\t<footer id=\"tl_footer\">\r\n");
      out.write("\t\t\t\t\t<div id=\"footer_div1\">\r\n");
      out.write("\t\t\t\t\t\t<span>닫기</span>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div id=\"footer_div2\">\r\n");
      out.write("\t\t\t\t\t\t<span>새 토픽 생성</span>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</footer>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- topic_search 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- seemore 시작하는 부분 -->\r\n");
      out.write("\t\t\t<div id=\"seemore\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div class=\"seemore_div\">\r\n");
      out.write("\t\t\t\t\t<!-- -----파일 보기-------- -->\r\n");
      out.write("\t\t\t\t\t<div class=\"file_div\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"file_div_style\">\r\n");
      out.write("\t\t\t\t\t\t\t<div style=\"float: left\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<img src=\"images/topic_in_page.png\" class=\"page2_style\"/>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:doDisplay5();\" class=\"see_file\"> 파일 보기 </a>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!-- -----정보변경하기-------- -->\r\n");
      out.write("\t\t\t\t\t<div class=\"set_information\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"set_information_style\">\r\n");
      out.write("\t\t\t\t\t\t\t<div style=\"float:left\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<img src=\"images/topic_in_change.png\" class=\"change_img_style\"/>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:doDisplay26();\" class=\"set_information_a\">정보 변경하기</a>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!-- -----토픽 삭제하기-------- -->\r\n");
      out.write("\t\t\t\t\t<a href=\"javascript:doDisplay31();\">\r\n");
      out.write("\t\t\t\t\t<div class=\"delete_topic_div\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"delete_topic_style\">\r\n");
      out.write("\t\t\t\t\t\t\t<div style=\"float: left\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<img src=\"images/topic_in_delete.png\" class=\"trash_img\"/>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t 토픽 삭제하기\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t<!--토픽 나가기-->\r\n");
      out.write("\t\t\t\t\t<a href=\"javascript:doDisplay32()\" class=\"leaveTopic_a\">\r\n");
      out.write("\t\t\t\t\t<div class=\"leaveTopic_div\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"leaveTopic_style\">\r\n");
      out.write("\t\t\t\t\t\t\t<div style=\"float: left\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<img src=\"images/topic_in_getout.png\" class=\"leaveTopic_img\"/>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t 토픽 나가기\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t<!--마지막-->\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- seemore 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- folder_seemore 시작하는 부분 -->\r\n");
      out.write("\t\t\t<div id=\"folder_seemore\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div id=\"fs_big_div\">\r\n");
      out.write("\t\t\t\t\t<ul id=\"fs_big_div_ul\">\r\n");
      out.write("\t\t\t\t\t\t<a href=\"javascript:doDisplay21();\">\r\n");
      out.write("\t\t\t\t\t\t<li>이 폴더에 토픽 생성하기</li>\r\n");
      out.write("\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t<a href=\"#\" class=\"a_folder_change_name\">\r\n");
      out.write("\t\t\t\t\t\t<li>폴더 이름 변경</li>\r\n");
      out.write("\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t<a href=\"javascript:doDisplay27();\">\r\n");
      out.write("\t\t\t\t\t\t<li id = \"folder_delete_text\">폴더 삭제하기</li>\r\n");
      out.write("\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t</ul>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- folder_seemore 끝나는 부분 -->\r\n");
      out.write("<!-- changeTopic 시작하는 부분 -->\r\n");
      out.write("\t\t\t<div id=\"changeTopic\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t<div id=\"changeTopic_banner\">\r\n");
      out.write("\t\t\t\t\t\t\t<div id=\"change_t_text1\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 토픽 정보 변경하기\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div id=\"change_t_img_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<img src=\"images/x2.png\" id=\"change_t_img\">\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div id=\"div01\">\r\n");
      out.write("\t\t\t\t\t\t\t<div id=\"div02\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 챗 뷰 / 비공개 토픽\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("<!-- gozoo -->\r\n");
 
	String sql_update = "SELECT * FROM TOPIC T ,MEMBERS M WHERE T.T_MEMBER = M.MEM_EMAIL AND T.T_ID = ?";
	PreparedStatement pstmt_update = conn.prepareStatement(sql_update);
	pstmt_update.setString(1, topic_id);
	ResultSet rs_update = pstmt_update.executeQuery();
	String t_name_update = "";
	String t_member_update = "";
	String t_member_email_update = "";
	String topic_id_update = "";
		while(rs_update.next()){
			t_name_update = rs_update.getString("T_NAME");
			t_member_update = rs_update.getString("MEM_NAME");
			t_member_email_update = rs_update.getString("T_MEMBER");
			topic_id_update = rs_update.getString("T_ID");
		};

      out.write("\r\n");
      out.write("\r\n");
      out.write("\t<script type=\"text/javascript\">\r\n");
      out.write("\t\t// gozoo\r\n");
      out.write("\t\t$(function(){\r\n");
      out.write("\t\t\t$(\"#div_complete\").click(function(){\r\n");
      out.write("\t\t\t\t\tvar update_topicName = $(\".update_topicName\").val();\r\n");
      out.write("\t\t\t\t\tvar loginEmail_update = $(\".loginEmail_update\").val();\r\n");
      out.write("\t\t\t\t\tvar t_member_email_update = $(\".t_member_email_update\").val();\r\n");
      out.write("\t\t\t\t\tvar t_domain_update = $(\".t_domain_update\").val();\r\n");
      out.write("\t\t\t\t\tvar topic_id_update = $(\".topic_id_update\").val();\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t/* alert(\"현재 로그인 이메일 : \" + loginEmail_update);\r\n");
      out.write("\t\t\t\t\talert(\"토픽 생성자 이메일 : \" + t_member_email_update)\r\n");
      out.write("\t\t\t\t\talert(update_topicName + \"으로 바껴야합니다. \"); \r\n");
      out.write("\t\t\t\t\talert(\"현재 팀 도메인 : \" + t_domain_update); \r\n");
      out.write("\t\t\t\t\talert(\"현재 토픽의 인덱스 : \" + topic_id_update);*/\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tif(loginEmail_update === t_member_email_update){\r\n");
      out.write("\t\t\t\t\t\t /* alert(\"정보변경 권한이 있습니다.\");  */\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t \t \t   $.ajax({\r\n");
      out.write("\t\t\t\t\t\t\t\ttype: \"post\",\r\n");
      out.write("\t\t\t\t\t\t\t\turl: \"../TopicUpdateServlet\", \r\n");
      out.write("\t\t\t\t\t\t\t\tdata: {\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   \"update_topicName\" : update_topicName,\r\n");
      out.write("\t\t\t\t\t\t\t\t\t   \"topic_id_update\" : topic_id_update \r\n");
      out.write("\t\t\t\t\t\t\t\t\t   },\r\n");
      out.write("\t\t\t\t\t\t\t\tdatatype: \"json\",\r\n");
      out.write("\t\t\t\t\t\t\t\tsuccess: function(data) {  \r\n");
      out.write("\t\t\t\t\t\t\t\t\talert(\"UPDATE COMPLETE!!\");\r\n");
      out.write("\t\t\t\t\t\t\t\t\t location.href = \"mainpage.jsp?domain=\"+t_domain_update+\"&owner=\"+loginEmail_update; \r\n");
      out.write("\t\t\t\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\t\t\t\terror: function(request, status, error){ \r\n");
      out.write("\t\t\t\t\t\t\t\t\talert(\"ERROR!\");\r\n");
      out.write("\t\t\t\t\t\t\t\t} \r\n");
      out.write("\t\t\t\t\t\t\t});   \r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\talert(\"정보 변경 권한이 없습니다.\");\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t// 이제 여기서 에이잭스먹여 (이름비교 로그인아이디 vs 토픽생성자)\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\r\n");
      out.write(" \r\n");
      out.write("\t\r\n");
      out.write("\t</script>\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t<!-- ------이름------ -->\r\n");
      out.write("\t\t\t\t\t\t<div id=\"div03name\">\r\n");
      out.write("\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 이름 <img src=\"images/*.png\" id=\"change_t_name_img\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"id\" class = \"update_topicName\" placeholder=");
      out.print(t_name_update );
      out.write(">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div style=\"clear:both;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"change_t_font_color_5050\">4</span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"change_t_font_color_8080\"> / 60</span>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<!-- ------토픽 설명(옵션)------ -->\r\n");
      out.write("\t\t\t\t\t\t<div id=\"div04topicdesc\">\r\n");
      out.write("\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 토픽 설명 (옵션)\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"id\" placeholder=\"토픽에 대해 설명해주세요.\"/>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div style=\"clear:both;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"change_t_font_color_5050\">0</span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span class=\"change_t_font_color_8080\"> / 300</span>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<!-- --------토픽 관리자-------- -->\r\n");
      out.write("\t\t\t\t\t\t<div id=\"div05topicmanager\">\r\n");
      out.write("\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 토픽 관리자\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div id=\"change_t_topic_management_right_div\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<span id=\"change_t_topic_mana_name\">");
      out.print(t_member_update );
      out.write("</span>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<input type = \"hidden\" class = \"loginEmail_update\" value = \"");
      out.print(loginEmail);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<input type = \"hidden\" class = \"t_member_email_update\" value = \"");
      out.print(t_member_email_update);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<input type = \"hidden\" class = \"t_domain_update\" value = \"");
      out.print(domain);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<input type = \"hidden\" class = \"topic_id_update\" value = \"");
      out.print(topic_id_update);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<img src=\"images/아래키2.png\"/>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div id=\"change_t_topic_bottom_div2\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<!-- -------취소----- -->\r\n");
      out.write("\t\t\t\t\t\t\t\t<div id=\"div_cancel\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t 취소\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<!-- -------완료------  -->\r\n");
      out.write("\t\t\t\t\t\t\t\t<div id=\"div_complete\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t 완료\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- changeTopic 끝나는 부분 -->\r\n");
      out.write("<style>\n");
      out.write("\t.like_img{\r\n");
      out.write("\t\tcursor: pointer;\r\n");
      out.write("\t}\n");
      out.write("</style>\r\n");
      out.write("\r\n");
      out.write("<!-- message chat websocket -->\r\n");
      out.write("\t\r\n");
      out.write("\t\t<script>\r\n");
      out.write("\t\t   $(function(){\r\n");
      out.write("\t\t\t      $('.middle-part').scrollTop($('.middle-part')[0].scrollHeight);\r\n");
      out.write("\t\t\t      \r\n");
      out.write("\t\t\t      \r\n");
      out.write("\t\t\t      // 좋아요 기능 gozoo\r\n");
      out.write("\t\t\t      $(\".like_img\").click(function(){\r\n");
      out.write("\t\t\t    \t  var content = $(this).parent().parent().parent().find(\".msg-item_text_span\").text();\r\n");
      out.write("\t\t\t\t\t   $(this).attr(\"src\", \"images/likesA.png\");\r\n");
      out.write("\t\t\t    \t  /* document.getElementById(\"like_img\").src = \"./images/rose.jpg\"; */\r\n");
      out.write("\t\t\t      });\r\n");
      out.write("\t\t\t      \r\n");
      out.write("\t\t\t      \r\n");
      out.write("\t\t\t   })\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tvar textarea = document.getElementById(\"messageWindow\");\r\n");
      out.write("\t\tvar webSocket = new WebSocket('ws://210.114.10.27:9090/Teamer/broadcasting');\r\n");
      out.write("\t\tvar inputMessage = document.getElementById('inputMessage');\r\n");
      out.write("\t\twebSocket.onerror = function(event) {\r\n");
      out.write("\t\t    onError(event)\r\n");
      out.write("\t\t};\r\n");
      out.write("\t\twebSocket.onopen = function(event) {\r\n");
      out.write("\t\t    onOpen(event)\r\n");
      out.write("\t\t};\r\n");
      out.write("\t\twebSocket.onmessage = function(event) {\r\n");
      out.write("\t\t    onMessage(event)\r\n");
      out.write("\t\t};\r\n");
      out.write("\r\n");
      out.write("\t\tfunction onMessage(event) {\r\n");
      out.write("\t\t    var message = event.data.split(\"//.$/\");\r\n");
      out.write("\t\t    var sender = message[0];\r\n");
      out.write("\t\t    var content = message[1];\r\n");
      out.write("\t\t    var date = message[2];\r\n");
      out.write("\t\t    var time = message[3];\r\n");
      out.write("\t\t    var topic_id = message[4];\r\n");
      out.write("\t\t    var profileUrl = message[5];\r\n");
      out.write("\t\t    var name = message[6];\r\n");
      out.write("\t\t    \r\n");
      out.write("\t\t    var hours = time.substring(0,2);\r\n");
      out.write("\t\t    var hoursNum = parseInt(hours);\r\n");
      out.write("\t\t    ");
      out.write("\r\n");
      out.write("\t\t    var chatTopicName = $(\".chatTopicName\").val();\r\n");
      out.write("\t\t    var chatTopicId = $(\"#topic_id\").val();\r\n");
      out.write("\t\t    /* alert(chatTopicId + \"///\" + topic_id); */\r\n");
      out.write("\t\t    var chatMessageReceived = \"<div style='clear:both;'></div>\" \r\n");
      out.write("\t \t\t\t+ \"<div class='whole_chat'><div class='msg-profile'>\"\r\n");
      out.write("\t\t\t\t+ \" <div><img src='\"+ profileUrl +\"' alt='star image' style='width: 30px; height: 30px; float: left; border-radius:30px;'>\"\r\n");
      out.write("\t\t\t\t+ \" </div>\"\r\n");
      out.write("\t\t\t\t+ \" <div class='msg_text' style='float: left;'>\"\r\n");
      out.write("\t\t\t\t+ \" <span class = 'msg-name'> \" + name + \"</span>\"\r\n");
      out.write("\t\t\t\t+ \" <div class='msg-item_text \"\r\n");
      out.write("\t\t\t\t+ \"'>\"\r\n");
      out.write("\t\t\t\t+ \" <span class='msg-item_text_span'>\"+ content +\"</span>\"\r\n");
      out.write("\t\t\t\t+ \" </div>\"\r\n");
      out.write("\t\t\t\t+ \" </div>\"\r\n");
      out.write("\t\t\t\t+ \" </div>\"\r\n");
      out.write("\t\t\t\t+ \"<div class='like1'>\"\r\n");
      out.write("\t\t\t\t+ \"<span><img src='images/like.png' alt='like image' class='like_img'>\"\r\n");
      out.write("\t\t\t\t+ \"</span><span class = 'like1_font'> 좋아요 <span class='like_style'>\"\r\n");
      out.write("\t\t\t\t+ \"\"+((hoursNum < 12) ? time + \" am\" : time + \" pm\")+\" </span></span>\"\r\n");
      out.write("\t\t\t\t+ \"</div></div>\";\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t    if (content == \"\") {\r\n");
      out.write("\t\t        \r\n");
      out.write("\t\t    } else {\r\n");
      out.write("\t\t        if (content.match(\"/\")) {\r\n");
      out.write("\t\t            if (content.match((\"/\" + $(\"#chat_id\").val()))) {\r\n");
      out.write("\t\t                var temp = content.replace(\"/\" + $(\"#chat_id\").val(), \"(귓속말) :\").split(\":\");\r\n");
      out.write("\t\t                if (temp[1].trim() == \"\") {\r\n");
      out.write("\t\t                } else {\r\n");
      out.write("\t\t                    $(\"#messageWindow\").html($(\"#messageWindow\").html() + \"<p class='whisper'>\"\r\n");
      out.write("\t\t                        + sender + content.replace(\"/\" + $(\"#chat_id\").val(), \"(귓속말) :\") + \"</p>\");\r\n");
      out.write("\t\t                }\r\n");
      out.write("\t\t            } \r\n");
      out.write("\t\t            else {\r\n");
      out.write("\t\t            }\r\n");
      out.write("\t\t        } else {\r\n");
      out.write("\t\t            if (content.match(\"!\")) {\r\n");
      out.write("\t\t                $(\".middle-part\").html($(\".middle-part\").html()\r\n");
      out.write("\t\t                    + chatMessageReceived);\r\n");
      out.write("\t\t            } else {\r\n");
      out.write("\t\t            \tif((topic_id === chatTopicId)){\r\n");
      out.write("\t\t\t                $(\".middle-part\").html($(\".middle-part\").html()\r\n");
      out.write("\t\t\t                    + chatMessageReceived);\r\n");
      out.write("\t\t            \t }\r\n");
      out.write("\t\t\t\t    \t\r\n");
      out.write("\t\t            }\r\n");
      out.write("\t\t        }\r\n");
      out.write("\t\t    }\r\n");
      out.write("\t\t    $('.middle-part').scrollTop($('.middle-part')[0].scrollHeight);\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\tfunction onOpen(event) {\r\n");
      out.write("\t\t    \r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tfunction onError(event) {\r\n");
      out.write("\t\t    alert(event.data);\r\n");
      out.write("\t\t    alert('연결 실패');\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\tfunction send() {\r\n");
      out.write("\t\t\t//현재시간 같이 보내기\r\n");
      out.write("\t\t\tvar  Now = new Date();\r\n");
      out.write("\t\t\tStrNow = String(Now);\r\n");
      out.write("\t\t\tnowYear = String(Now.getFullYear());\r\n");
      out.write("\t\t\tnowMon = String(Now.getMonth()+1);\r\n");
      out.write("\t\t\tnowDay = String(Now.getDate());\r\n");
      out.write("\t\t\tnowHours = String(Now.getHours());\r\n");
      out.write("\t\t\tnowMinutes = String(Now.getMinutes());\r\n");
      out.write("\t\t\tnowSeconds = String(Now.getSeconds());\r\n");
      out.write("\t\r\n");
      out.write("\t\t\tif(nowMon.length == 1) {\r\n");
      out.write("\t\t\t\tnowMon = \"0\"+nowMon\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tif(nowDay.length == 1) {\r\n");
      out.write("\t\t\t\tnowDay = \"0\"+nowDay\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tif(nowHours.length == 1) {\r\n");
      out.write("\t\t\t\tnowHours = \"0\"+nowHours\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tif(nowMinutes.length == 1) {\r\n");
      out.write("\t\t\t\tnowMinutes = \"0\"+nowMinutes\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tif(nowSeconds.length == 1) {\r\n");
      out.write("\t\t\t\tnowSeconds = \"0\"+nowSeconds\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tvar NowDate = nowYear +'-'+nowMon+'-'+nowDay; \r\n");
      out.write("\t\t\tvar NowTime = nowHours + ':' + nowMinutes;\r\n");
      out.write("\t\t\tconsole.log('NowDate', NowDate);\r\n");
      out.write("\t\t\t/* $(\"#date\").val(NowToday); */\r\n");
      out.write("\t\t\t$(\"#date\").val(NowDate);\r\n");
      out.write("\t\t\t$(\"#time\").val(NowTime);\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t// 내가 보낸거 바로 뜨는 부분\r\n");
      out.write("\t\t\tvar chatMessageSend = \"<div style='clear:both;'></div>\" \r\n");
      out.write("\t \t\t\t+ \"<div class='whole_chat'><div class='msg-profile'>\"\r\n");
      out.write("\t\t\t\t+ \" <div><img src='\"+ $(\"#profilePic\").val() +\"' alt='star image' style='width: 30px; height: 30px; float: left; border-radius:30px;'>\"\r\n");
      out.write("\t\t\t\t+ \" </div>\"\r\n");
      out.write("\t\t\t\t+ \" <div class='msg_text' style='float: left;'>\"\r\n");
      out.write("\t\t\t\t+ \" <span class = 'msg-name'> \" + $(\"#name\").val() + \"</span>\"\r\n");
      out.write("\t\t\t\t+ \" <div class='msg-item_text \"\r\n");
      out.write("\t\t\t\t+ \"me\"\r\n");
      out.write("\t\t\t\t+ \"'>\"\r\n");
      out.write("\t\t\t\t+ \" <span class='msg-item_text_span'>\"+ $(\"#inputMessage\").val() +\"</span>\"\r\n");
      out.write("\t\t\t\t+ \" </div>\"\r\n");
      out.write("\t\t\t\t+ \" </div>\"\r\n");
      out.write("\t\t\t\t+ \" </div>\"\r\n");
      out.write("\t\t\t\t+ \"<div class='like1'>\"\r\n");
      out.write("\t\t\t\t+ \"<span><img src='images/like.png' alt='like image' class='like_img'>\"\r\n");
      out.write("\t\t\t\t+ \"</span><span class = 'like1_font'> 좋아요 <span class='like_style'>\"\r\n");
      out.write("\t\t\t\t+ \"\"+((nowHours<12) ? NowTime + \" am\" : NowTime + \" pm\")+ \" </span></span>\"\r\n");
      out.write("\t\t\t\t+ \"</div></div>\";\r\n");
      out.write("\r\n");
      out.write("\t\t    \r\n");
      out.write("\t\t\t//나도 오늘 머리 벌초하러가는날\r\n");
      out.write("\t\t    if ($(\"#inputMessage\").val() != \"\") {\r\n");
      out.write("\t\t    \t//if문 추가해서 해당 인풋의 t_id과 똑같은 middle-part에만 메세지 추가되게\\\r\n");
      out.write("\t\t    \t//엔터 누르면 작동하는 함수\r\n");
      out.write("\t\t    \tvar t_name = $(\".notify_font\").text();\r\n");
      out.write("\t\t    \tvar chatTopicName = $(\".chatTopicName\").val();\r\n");
      out.write("\t\t    \t/* alert(t_name + \"///\" + chatTopicName); */\r\n");
      out.write("\t\t    \t");

		    		String topicname = request.getParameter("chatTopicName");
		    		System.out.println(topicname + "토픽 이름입니다!!");
		    	
      out.write("\r\n");
      out.write("\t\t    \tif(t_name === chatTopicName){\r\n");
      out.write("\t\t\t       $(\".middle-part\").html($(\".middle-part\").html()\r\n");
      out.write("\t\t\t            + chatMessageSend); \r\n");
      out.write("\t\t    \t}\r\n");
      out.write("\t\t    }\r\n");
      out.write("\t\t    $('.middle-part').scrollTop($('.middle-part')[0].scrollHeight);\r\n");
      out.write("\t\t    webSocket.send($(\"#chat_id\").val() + \"//.$/\" + $(\"#inputMessage\").val()+\"//.$/\"+$(\"#date\").eq(0).val()+\"//.$/\"\r\n");
      out.write("\t\t    \t\t+$(\"#time\").eq(0).val()+\"//.$/\"+$(\"#topic_id\").val()+\"//.$/\"+$(\"#profilePic\").val()+\"//.$/\"+$(\"#name\").val());\r\n");
      out.write("\t\t\t$(\"#inputMessage\").val(\"\");\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("//\t\t     엔터키를 통해 send함\r\n");
      out.write("\t\tfunction enterkey() {\r\n");
      out.write("\t\t    if (window.event.keyCode == 13) {\r\n");
      out.write("\t\t        send();\r\n");
      out.write("\t\t    }\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!-- dochange(공지사항) 시작 부분 -->        ");
      out.write("\r\n");
      out.write("\t\t\t<div id=\"middle_chat_div\" style=\"");
      out.print(styleMiddleChatDiv );
      out.write("\">\r\n");
      out.write("\t\t\t\t<div class=\"middle_panel\" style=\"right: 56px;\">\r\n");
      out.write("\t\t\t\t\t<div class=\"middle_panel_banner\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"middle_panel_banner_title\" style=\"padding-top: 24px;\">\r\n");
      out.write("\t\t\t\t\t\t\t<div><a href=\"#\"><img src=\"images/star.png\" alt=\"star image\" class=\"star_img\"></a>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"notify\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div style = \"float: left;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<a href=\"#\" class=\"notify_font\">");
      out.print(chatTopicName );
      out.write("</a>\r\n");
      out.write("\t\t\t\t\t\t\t\t<input type = \"hidden\" class = \"chatTopicName\" value = \"");
      out.print(topicname);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<img src=\"images/information.png\" alt=\"information image\" class=\"info_img\"></div>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<!-- <div class=\"info_div\">\r\n");
      out.write("\t\t\t\t\t\t\t</div> -->\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"middle_panel_banner_title_right\">\r\n");
      out.write("\t\t\t\t\t\t\t<span>                      \r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"images/people_num.png\" alt=\"star image\"> <!-- DB화작업 필요! (2021/12/28메모) -->\r\n");
      out.write("\t\t\t\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t\t\t\t<span><img src=\"images/plug.png\" alt=\"star image\">\r\n");
      out.write("\t\t\t\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:doDisplay19();\"><span><img src=\"images/invite.png\"></span></a>\r\n");
      out.write("\t\t\t\t\t\t\t<span><img src=\"images/notification.png\" alt=\"star image\">\r\n");
      out.write("\t\t\t\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t\t\t\t<a href=\"javascript:doDisplay23();\"><span><img src=\"images/settings.png\" alt=\"star image\"></span></a>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"middle-part\">\r\n");
      out.write("\t\t\t\t\t");
					
						
						String previouslyShownDate = "";
						String profilePic = "";
						String name = "";
						String writerEmail = "";
						for(i=0; i<=m_list.size()-1; i++) {
							System.out.println(m_list.get(i).getM_date()+" "+m_list.get(i).getM_time());
							if("".equals(previouslyShownDate) || previouslyShownDate.equals(m_list.get(i).getM_date())==false) {
								//System.out.println(m_list.get(i).getM_date());
								String year = m_list.get(i).getM_date().substring(0,4);
								String month = m_list.get(i).getM_date().substring(5,7);
								String date = m_list.get(i).getM_date().substring(8);
								
								Calendar cal = Calendar.getInstance();
								cal.setTime(new Date());     // 현재 날짜/시간으로 셋팅됨.
								int dayNumber = cal.get(Calendar.DAY_OF_WEEK); //날짜 계산해줌
								String dayStr = "";
								switch(dayNumber) {
								case 1: dayStr = "일"; break;
								case 2: dayStr = "월"; break;
								case 3: dayStr = "화"; break;
								case 4: dayStr = "수"; break;
								case 5: dayStr = "목"; break;
								case 6: dayStr = "금"; break;
								case 7: dayStr = "토"; break;
								}
								
								String chatDate = "<div style='clear:both;'></div>"
										+ "<div class='chat-messages'>"
										+ "	<div class='chat-messages_top'>"
										+ "		<div class='line' style='width: 100%; position: absolute; padding-top: 3px;'>"
										+ "			<hr class='hr_style'>"
										+ "		</div>"
										+ "		<span class='date' style='z-index: 1;'>"+year+"년 "+month+"월 "+date+"일 "+dayStr+"요일 </span>"
										+ "	</div>"
										+ "</div>";
								previouslyShownDate = m_list.get(i).getM_date();
					
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\t");
      out.print(chatDate );
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t \t<!-- 이 부분에 채팅 추가, 날짜 일치시켜서 -->\r\n");
      out.write("\t\t\t\t\t\t\t \t\t\t\t\t\t\t \t\r\n");
      out.write("\t\t\t\t\t");

							}					
							 	
						 	//m_list.get(i).getM_date()
						 	//for문
						 	//date -> 2021-11-15
						  			
						 	name = ""; //이름
						 	profilePic = ""; //사진
						 	String content = m_list.get(i).getM_content(); //내용
						 	String hour = m_list.get(i).getM_time().substring(0,2); //시간
						 	String minutes = m_list.get(i).getM_time().substring(3,4);
						 	writerEmail = m_list.get(i).getM_w_email();
						 	
							if(minutes.length() == 1) {
								minutes = "0"+minutes;
							}
							
							String time = hour+":"+minutes;
						 	
						 	
						 	sql = "SELECT MEM_NAME FROM MEMBERS WHERE MEM_EMAIL = ?";
							PreparedStatement pstmt6 = conn.prepareStatement(sql);
							pstmt6.setString(1,m_list.get(i).getM_w_email());
							ResultSet rs9 = pstmt6.executeQuery();
							if(rs9.next()){
								name = rs9.getString("MEM_NAME"); 
							}
							
							sql = "SELECT P_IMAGE FROM PROFILE WHERE P_EMAIL = ? AND P_T_INDEX = ?"; 
							PreparedStatement pstmt7 = conn.prepareStatement(sql);
							pstmt7.setString(1,m_list.get(i).getM_w_email());
							pstmt7.setString(2,t_index);
							ResultSet rs10 = pstmt7.executeQuery();
							if(rs10.next()){
								profilePic = rs10.getString("P_IMAGE");
							}
							
							String hours = m_list.get(i).getM_time().substring(0,2);
							int hoursNum = Integer.parseInt(hours);
							
							
						 	String chatMessage = "<div style='clear:both;'></div>" 
						 			+ "<div class='whole_chat'><div class='msg-profile'>"
									+ " <div><img src='"+ profilePic+"' alt='star image' style='width: 30px; height: 30px; float: left; border-radius:30px;'>"
									+ " </div>"
									+ " <div class='msg_text' style='float: left;'>"
									+ " <span class = 'msg-name'> " + name + " </span>"
									+ " <div class='msg-item_text "
									+ (loginEmail.equals(writerEmail) ? "me" : "") 
									+ "'>"
									+ " <span class='msg-item_text_span'>"+ content +"</span>"
									+ " </div>"
									+ " </div>"
									+ " </div>"
									+ "<div class='like1'>"
									+ "<span><img src='images/like.png' alt='like image' class='like_img'>"
									+ "</span><span class = 'like1_font'> 좋아요 <span class='like_style'>"
									+ ""+( hoursNum < 12 ? m_list.get(i).getM_time() + " am" : m_list.get(i).getM_time() + " pm")+" </span></span>"
									+ "</div></div>";
					
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t");
      out.print(chatMessage );
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t");
 						 	
						}
						
					
      out.write("\r\n");
      out.write("\t\t\t\t\t<style>\r\n");
      out.write("\t\t\t\t\t\t.msg-item_text.me {\r\n");
      out.write("\t\t\t\t\t\t\tbackground-color: #ebf5f1;\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t</style>\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t<div style=\"clear:both;\"></div>\r\n");
      out.write("\t\t\t\t\t\t<div style=\"clear:both;\"></div>\r\n");
      out.write("\t\t\t\t\t\t<div style=\"clear:both;\"></div>\r\n");
      out.write("\t\t\t\t\t\t<div style=\"clear:both;\"></div>\r\n");
      out.write("\t\t\t\t\t\t<div style=\"clear:both;\"></div>\r\n");
      out.write("\t\t\t\t\t\t<div style=\"clear:both;\"></div>\r\n");
      out.write("\t\t\t\t\t\t<div style=\"clear:both;\"></div>\r\n");
      out.write("\t\t\t\t\t\t<div style=\"clear:both;\"></div>\r\n");
      out.write("\t\t\t\t\t\t<div style=\"clear:both;\"></div>\r\n");
      out.write("\t\t\t\t\t\t<div style=\"clear:both;\"></div>\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t <input type=\"hidden\" value=\"");
      out.print(loginEmail );
      out.write("\" id=\"chat_id\"/>  <!-- 작성자 이메일  -->\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t<fieldset style = \"position: absolute; top: 773px; width: 1578px;\">\r\n");
      out.write("\t\t\t\t        <div id=\"messageWindow\"></div>\r\n");
      out.write("\t\t\t\t        <br />\r\n");
      out.write("\t\t\t\t        <div id = \"chat-write\">\r\n");
      out.write("\t\t\t\t        \t<div class = \"message-input-wrapper\">\r\n");
      out.write("\t\t\t\t        \t\t<div class = \"message-input-body\">\r\n");
      out.write("\t\t\t\t\t\t\t        <input id=\"inputMessage\" type=\"text\" onkeyup=\"enterkey()\" placeholder = \"메세지를 입력하세요 (Shift + Enter로 줄바꿈이 가능합니다.)\"/>\r\n");
      out.write("\t\t\t\t\t\t\t        <input type = \"hidden\" id = \"topic_id\" value = \"");
      out.print(topic_id);
      out.write("\"/>\r\n");
      out.write("\t\t\t\t\t\t\t        <input type = \"hidden\" id = \"profilePic\" value = \"");
      out.print(p_image_url);
      out.write("\"/>\r\n");
      out.write("\t\t\t\t\t\t\t        <input type = \"hidden\" id = \"name\" value = \"");
      out.print(profile_name);
      out.write("\"/>\r\n");
      out.write("\t\t\t\t\t\t\t        <input type = \"hidden\" id = \"login_email\" value = \"");
      out.print(loginEmail);
      out.write("\"/>\r\n");
      out.write("\t\t\t\t\t\t\t        <input type = \"hidden\" id = \"writer_email\" value = \"");
      out.print(writerEmail);
      out.write("\"/>\r\n");
      out.write("\t\t\t\t\t\t\t        <input type=\"hidden\" id = \"date\"  value = \"\"/>\r\n");
      out.write("\t\t\t\t\t\t\t        <input type=\"hidden\" id = \"time\"  value = \"\"/>\r\n");
      out.write("\t\t\t\t\t\t        </div>\r\n");
      out.write("\t\t\t\t\t\t        <div class = \"message-input-footer\">\r\n");
      out.write("\t\t\t\t\t\t        <span class=\"chat_write_footer_emojis\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"dropdown-toggle sticker_panel_btn _stickerPanelBtn on\" ng-class=\"{'on': isStickerOpen, 'ng-hide':!isShowStickerButton}\" ng-click=\"onClickStickerButton($event)\" ng-mousedown=\"onMousedownStickerButton($event)\" ng-disabled=\"isDisabledMember\" tooltip=\"스티커보내기\" tooltip-placement=\"top\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<i class=\"icon-ic-smile\"><img src=\"images/emoji1.png\" alt=\"star image\"></i>\r\n");
      out.write("\t\t\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t\t\t\t</span><span class=\"chat_write_footer_emojis\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"dropdown-toggle sticker_panel_btn _stickerPanelBtn on\" ng-class=\"{'on': isStickerOpen, 'ng-hide':!isShowStickerButton}\" ng-click=\"onClickStickerButton($event)\" ng-mousedown=\"onMousedownStickerButton($event)\" ng-disabled=\"isDisabledMember\" tooltip=\"스티커보내기\" tooltip-placement=\"top\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<i class=\"icon-ic-smile\"><img src=\"images/mention.png\" alt=\"star image\"></i>\r\n");
      out.write("\t\t\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t\t\t\t</span><span class=\"chat_write_footer_emojis\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"dropdown-toggle sticker_panel_btn _stickerPanelBtn on\" ng-class=\"{'on': isStickerOpen, 'ng-hide':!isShowStickerButton}\" ng-click=\"onClickStickerButton($event)\" ng-mousedown=\"onMousedownStickerButton($event)\" ng-disabled=\"isDisabledMember\" tooltip=\"스티커보내기\" tooltip-placement=\"top\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<i class=\"icon-ic-smile\"><img src=\"images/file.png\" alt=\"star image\"></i>\r\n");
      out.write("\t\t\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t\t\t\t</span><span class=\"chat_write_footer_emojis\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"dropdown-toggle sticker_panel_btn _stickerPanelBtn on\" ng-class=\"{'on': isStickerOpen, 'ng-hide':!isShowStickerButton}\" ng-click=\"onClickStickerButton($event)\" ng-mousedown=\"onMousedownStickerButton($event)\" ng-disabled=\"isDisabledMember\" tooltip=\"스티커보내기\" tooltip-placement=\"top\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<i class=\"icon-ic-smile\"><img src=\"images/text.png\" alt=\"star image\"></i>\r\n");
      out.write("\t\t\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t\t\t\t</span><span class=\"icon-divider\"></span><span class=\"chat_write_footer_emojis\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"dropdown-toggle sticker_panel_btn _stickerPanelBtn on\" ng-class=\"{'on': isStickerOpen, 'ng-hide':!isShowStickerButton}\" ng-click=\"onClickStickerButton($event)\" ng-mousedown=\"onMousedownStickerButton($event)\" ng-disabled=\"isDisabledMember\" tooltip=\"스티커보내기\" tooltip-placement=\"top\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<i class=\"icon-ic-smile\"><img src=\"images/list.png\" alt=\"star image\"></i>\r\n");
      out.write("\t\t\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t\t\t\t</span><span class=\"chat_write_footer_emojis\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"dropdown-toggle sticker_panel_btn _stickerPanelBtn on\" ng-class=\"{'on': isStickerOpen, 'ng-hide':!isShowStickerButton}\" ng-click=\"onClickStickerButton($event)\" ng-mousedown=\"onMousedownStickerButton($event)\" ng-disabled=\"isDisabledMember\" tooltip=\"스티커보내기\" tooltip-placement=\"top\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<i class=\"icon-ic-smile\"><img src=\"images/vote.png\" alt=\"star image\"></i>\r\n");
      out.write("\t\t\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t\t\t\t</span><span class=\"chat_write_footer_emojis\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"dropdown-toggle sticker_panel_btn _stickerPanelBtn on\" ng-class=\"{'on': isStickerOpen, 'ng-hide':!isShowStickerButton}\" ng-click=\"onClickStickerButton($event)\" ng-mousedown=\"onMousedownStickerButton($event)\" ng-disabled=\"isDisabledMember\" tooltip=\"스티커보내기\" tooltip-placement=\"top\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<i class=\"icon-ic-smile\"><img src=\"images/croppie.png\" alt=\"star image\"></i>\r\n");
      out.write("\t\t\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t\t\t\t</span><span class=\"chat_write_footer_emojis\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"dropdown-toggle sticker_panel_btn _stickerPanelBtn on\" ng-class=\"{'on': isStickerOpen, 'ng-hide':!isShowStickerButton}\" ng-click=\"onClickStickerButton($event)\" ng-mousedown=\"onMousedownStickerButton($event)\" ng-disabled=\"isDisabledMember\" tooltip=\"스티커보내기\" tooltip-placement=\"top\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<i class=\"icon-ic-smile\"><img src=\"images/zoom.png\" alt=\"star image\"></i>\r\n");
      out.write("\t\t\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t\t\t\t</span><span class=\"icon-divider\"></span><span class=\"chat_write_footer_emojis\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<button class=\"dropdown-toggle sticker_panel_btn _stickerPanelBtn on\" ng-class=\"{'on': isStickerOpen, 'ng-hide':!isShowStickerButton}\" ng-click=\"onClickStickerButton($event)\" ng-mousedown=\"onMousedownStickerButton($event)\" ng-disabled=\"isDisabledMember\" tooltip=\"스티커보내기\" tooltip-placement=\"top\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<i class=\"icon-ic-smile\"><img src=\"images/link.png\" alt=\"star image\"></i>\r\n");
      out.write("\t\t\t\t\t\t\t\t</button>\r\n");
      out.write("\t\t\t\t\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t\t\t\t        <input class = \"message-input-submit btn btn-ok\" type=\"submit\" value=\"전송\" onclick=\"send()\" style = \"border:0px; cursor: pointer;\"  />\r\n");
      out.write("\t\t\t\t\t\t        </div>\r\n");
      out.write("\t\t\t\t    \t\t</div>\r\n");
      out.write("\t\t\t\t    \t</div>\r\n");
      out.write("\t\t\t\t    </fieldset>\r\n");
      out.write("\t\t\t\t    \r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- 공지사항 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- folder_delete 시작 부분 -->\r\n");
      out.write("\t\t\t<div id=\"folder_delete\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div class=\"fdA\">\r\n");
      out.write("\t\t\t\t\t<div class=\"fdB\">\r\n");
      out.write("\t\t\t\t\t\t폴더를 정말 삭제하시겠습니까?<br/><br/>(폴더를 삭제해도 해당 폴더내 토픽들은 사라지지 않습니다.)\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t<button class=\"fdC\">취소</button>\r\n");
      out.write("\t\t\t\t\t\t<button class=\"fdD\">확인</button>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- folder_delete 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- invite_newmember 시작 부분 -->\r\n");
      out.write("\t\t\t<div id=\"invite_newmember\">\r\n");
      out.write("\t\t\t\t<div class=\"newmemberA\">\r\n");
      out.write("\t\t\t\t\t<div class=\"newmemberB\">\r\n");
      out.write("\t\t\t\t\t\t 멤버 초대하기 <img src=\"images/x2.png\" class=\"newmember_imgA\"/>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"newmemberC\">\r\n");
      out.write("\t\t\t\t\t\t 새로운 멤버의 권한을 선택해 주세요.\r\n");
      out.write("\t\t\t\t\t\t<div class=\"newmemberD\">\r\n");
      out.write("\t\t\t\t\t\t\t 권한이란?\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<!-- -----정회원 초대----- -->\r\n");
      out.write("\t\t\t\t\t\t<a href=\"javascript:doDisplay29();\">\r\n");
      out.write("\t\t\t\t\t\t<div id=\"vip_invite\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"newmemberE\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 정회원 초대\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"newmemberF\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 모든 공개 대화방에 접근이 가능한 멤버입니다.\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"images/right_arrow.png\" class=\"newmember_imgB\"/>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t\t<!-- -----준회원 초대----- -->\r\n");
      out.write("\t\t\t\t\t\t<div class=\"newmemberG\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"newmemberH\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 준회원 초대\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"newmemberI\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 초대받은 대화방에만 접근이 가능한 멤버입니다.\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"images/right_arrow.png\" class=\"newmember_imgC\"/>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"newmemberJ\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"newmemberK\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"newmemberL\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 닫기\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!-- ----마지막----- -->\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- invite_newmember 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- invite_member_mail 시작 부분 -->\r\n");
      out.write("\t\t\t<div id=\"invite_member_mail\">\r\n");
      out.write("\t\t\t\t<div class=\"invite_mailA\">\r\n");
      out.write("\t\t\t\t\t<div class=\"invite_mailB\">\r\n");
      out.write("\t\t\t\t\t\t 멤버 초대하기 <img src=\"images/x2.png\" class=\"invite_mail_imgA\"/>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"invite_mailC\">\r\n");
      out.write("\t\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<img src=\"images/abcde.png\" class=\"invite_mail_imgB\"/>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"invite_mailD\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 정회원 초대\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"invite_mailE\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t 이메일을 발송하여 초대할 수 있습니다.\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!-- -----초대메일보내기----- -->\r\n");
      out.write("\t\t\t\t\t<div class=\"invite_mailF\">\r\n");
      out.write("\t\t\t\t\t\t 완료\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"invite_mailG\">\r\n");
      out.write("\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t 공백 또는 쉼표로 구분된 여러 개의 이메일 또는 엑셀에서의 연락처가 있는 열을\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t 붙여넣기하여 한번에 추가할 수 있습니다.\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t\t 대규모 팀의 경우 <span class=\"invite_mailH\">고객지원팀</span>으로 문의해주세요.\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<form action = \"mail_action_invite.jsp\">\r\n");
      out.write("\t\t\t\t\t<input type=\"text\" name=\"email\" placeholder=\"이메일을 입력해주세요.\" class=\"invite_mailI\"></input>\r\n");
      out.write("\t\t\t\t\t<input type = \"hidden\" name = \"t_index\" value = \"");
      out.print(t_index);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t<div class=\"invite_mailJ\">\r\n");
      out.write("\t\t\t\t\t\t<span class=\"invite_mailK\">0</span> / 50\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<!-- -----뒤로가기 ,초대 메일 보내기----- -->\r\n");
      out.write("\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"invite_mailL\">\r\n");
      out.write("\t\t\t\t\t\t\t<img src=\"images/exit_2.png\" class=\"invite_mail_imgC\">\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"invite_mailM\">\r\n");
      out.write("\t\t\t\t\t\t\t\t 뒤로가기\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t<div class=\"invite_mailN\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"invite_mailO\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t <input type = \"submit\" name = \"invitemem_email\" value = \"초대 메일 보내기\"> \r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</form>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- invite_member_mail 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("<!-- profile_pic_change시작 부분 -->\r\n");
      out.write("\t\t\t<div id=\"profile_pic_change\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div class=\"profile_pic_div\">\r\n");
      out.write("\t\t\t\t\t<img src=\"images/exit_white.png\" width=\"45\" class=\"close_btn2\" style=\"float: right; padding: 10px 10px;\"/>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"profile_img_div\">\r\n");
      out.write("\t\t\t\t\t<img src=\"");
      out.print(((p_image_url==null)?"https://i.ibb.co/5G1vGSt/image.jpg":p_image_url) );
      out.write("\" width=\"400\" class=\"profile_img_style\"/>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<div class=\"profile_pic_change2\">\r\n");
      out.write("\t\t\t\t\t<div style=\" margin-left: 40%; text-align: center; height:100% ;\">\r\n");
      out.write("\t\t\t\t\t\t<div class=\"bottom_white_font bottom_white_font_style\">\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t<!-- ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼ -->\r\n");
      out.write("\t\t\t\t\t\t<style>\r\n");
      out.write("\t\t\t\t\t\t.input-file-button{\r\n");
      out.write("\t\t\t\t\t\t  padding: 6px 25px;\r\n");
      out.write("\t\t\t\t\t\t  background-color:#FF6600;\r\n");
      out.write("\t\t\t\t\t\t  border-radius: 4px;\r\n");
      out.write("\t\t\t\t\t\t  color: white;\r\n");
      out.write("\t\t\t\t\t\t  cursor: pointer;\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t</style>\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t<form method = \"post\" action=\"out.jsp\" enctype = \"multipart/form-data\">\r\n");
      out.write("\t\t\t\t\t\t\t<input type = \"hidden\" name = \"domain\" value = \"");
      out.print(domain);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\t<input type = \"hidden\" name = \"owner\" value = \"");
      out.print(owner);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\t<input type = \"hidden\" name = \"t_index\" value = \"");
      out.print(t_index);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\t<!-- 버튼 부분 -->\r\n");
      out.write("\t\t\t\t\t\t\t<label class = \"input-file-button\" for =\"file_upload\"> 파일 선택 </label>\r\n");
      out.write("\t\t\t\t\t\t\t<input type = \"file\" name = \"photo\" id=\"file_upload\" style = \"display:none;\"/>\r\n");
      out.write("\t\t\t\t\t\t\t<input class = \"input-file-button\" type = \"submit\" value = \"upload\" style = \"font-size:12px\"/>\r\n");
      out.write("\t\t\t\t\t\t</form>\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"bottom_white_font bottom_white_font_style\">\r\n");
      out.write("\t\t\t\t\t\t\t캐릭터 선택하기\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t<div class=\"bottom_white_font bottom_white_font_style2\">\r\n");
      out.write("\t\t\t\t\t\t\t초기화\r\n");
      out.write("\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- profile_pic_change 끝나는 부분 -->\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<script type=\"text/javascript\">\r\n");
      out.write("\r\n");
      out.write("$(function(){\r\n");
      out.write("// gozoo\r\n");
      out.write("\t$(\".close_btn_confirm\").click(function(){\r\n");
      out.write("\t\t/* alert(\"진짜 삭제하겠습니다\"); */\r\n");
      out.write("\t\tvar team_index = $(\".t_index\").val();\r\n");
      out.write("\t\tvar topic_index = $(\".to_index\").val();\r\n");
      out.write("\t\tvar t_domain = $(\".t_domain\").val();\r\n");
      out.write("\t\tvar t_owner = $(\".t_owner\").val();\r\n");
      out.write("\t\tvar t_member_email_update = $(\".t_member_email_update\").val();\r\n");
      out.write("/*\r\n");
      out.write("\t\talert(\"팀도메인 : \" + t_domain);\r\n");
      out.write("\t\talert(\"팀 오너 : \" + t_owner);\r\n");
      out.write(" \t\talert(\"팀 인덱스 : \" + team_index);\r\n");
      out.write("\t\talert(\"토픽 인덱스 : \" + topic_index);\r\n");
      out.write(" \t\talert(\"토픽 관리자 : \" + t_member_email_update)\r\n");
      out.write(" */\t\t\r\n");
      out.write(" \t\tif(t_member_email_update === t_owner){\r\n");
      out.write(" \t\t\r\n");
      out.write("\t\t  $.ajax({\r\n");
      out.write("\t\t\t\ttype: \"post\",\r\n");
      out.write("\t\t\t\turl: \"../TopicDeleteServlet\", \r\n");
      out.write("\t\t\t\tdata: {\r\n");
      out.write("\t\t\t\t\t   \"topic_index\" : topic_index,\r\n");
      out.write("\t\t\t\t\t   },\r\n");
      out.write("\t\t\t\tdatatype: \"json\",\r\n");
      out.write("\t\t\t\tsuccess: function(data) {  \r\n");
      out.write("\t\t\t\t\talert(\"DELETE COMPLETE!!\");\r\n");
      out.write("\t\t\t\t\t location.href = \"mainpage.jsp?domain=\"+t_domain+\"&owner=\"+t_owner; \r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\terror: function(request, status, error){ \r\n");
      out.write("\t\t\t\t\talert(\"에러!\");\r\n");
      out.write("\t\t\t\t} \r\n");
      out.write("\t\t\t}); \r\n");
      out.write(" \t\t\t\r\n");
      out.write(" \t\t\t\r\n");
      out.write(" \t\t}else{\r\n");
      out.write(" \t\t\t alert(\"U DONT HAVE ANY PERMISSION\") \r\n");
      out.write(" \t\t}\r\n");
      out.write(" \r\n");
      out.write("\t\t\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("});\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("<!--topic_delete 시작 부분  -->\r\n");
      out.write("\t\t\t<div id=\"topic_delete\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div class=\"topic_delete_div\">\r\n");
      out.write("\t\t\t\t\t<div class=\"topic_real_delete\">\r\n");
      out.write("\t\t\t\t\t\t이 토픽을 정말 삭제하시겠습니까?\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"topic_filetab\">\r\n");
      out.write("\t\t\t\t\t\t토픽을 삭제하여도 주고 받은 파일은 파일탭에서 확인하실 수<br/> 있습니다\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div class=\"btn_div\">\r\n");
      out.write("\t\t\t\t\t \t<input type = \"hidden\" class = \"to_index\" value = \"");
      out.print(topic_id);
      out.write("\"/>\r\n");
      out.write("\t\t\t\t\t\t<input type = \"hidden\" class = \"t_index\" value = \"");
      out.print(t_index);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t<input type = \"hidden\" class = \"t_domain\" value = \"");
      out.print(domain);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t<input type = \"hidden\" class = \"t_owner\" value = \"");
      out.print(loginEmail);
      out.write("\"/>\r\n");
      out.write("\t\t\t\t\t\t<input type = \"hidden\" class = \"t_member_email_update\" value = \"");
      out.print(t_member_email_update);
      out.write("\">\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t<button class=\"close_btn close_btn_cancel\">취소</button>\r\n");
      out.write("\t\t\t\t\t\t<button class=\"close_btn_confirm\">확인</button>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!--topic_delete 끝 부분  -->\r\n");
      out.write("\r\n");
      out.write("<!-- topic_exit 시작 부분 -->\r\n");
      out.write("\t\t\t<div id=\"topic_exit\" style=\"display: none;\">\r\n");
      out.write("\t\t\t\t<div id=\"te_main_big_div\">\r\n");
      out.write("\t\t\t\t\t<div id=\"te_you_management\">\r\n");
      out.write("\t\t\t\t\t\t회원님은 이 토픽의 관리자입니다.<br/>\r\n");
      out.write("\t\t\t\t\t\t<br/> 토픽에서 나가기 전에 다음 토픽 관리자를 지정하실 수 있습니다\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t<div>\r\n");
      out.write("\t\t\t\t\t\t<button id=\"te_cancle_button\">취소</button>\r\n");
      out.write("\t\t\t\t\t\t<a href=\"javascript:doDisplay26();\">\r\n");
      out.write("\t\t\t\t\t\t<button id=\"te_yes_button\">확인</button>\r\n");
      out.write("\t\t\t\t\t\t</a>\r\n");
      out.write("\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("<!-- topic_exit 끝 부분 -->\r\n");
      out.write("\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\r\n");
      out.write("<!--가운데 div 닫는태그-->\r\n");
      out.write("\r\n");
      out.write("<div id=\"right_div\" >\r\n");
      out.write("\t<div class=\"icon_div\" id=\"rd_icon_div_img\">\r\n");
      out.write("\t\t<a href=\"javascript:doDisplay2();\" class=\"icon_background\"\r\n");
      out.write("\t\t\t><i class=\"fas fa-bars icon_style\"></i\r\n");
      out.write("\t\t></a>\r\n");
      out.write("\t</div>\r\n");
      out.write("\r\n");
      out.write("\t<div class=\"icon_div\" id=\"rd_icon_div_img2\">\r\n");
      out.write("\t\t<a href=\"javascript:doDisplay3();\" class=\"tooltip icon_background\">\r\n");
      out.write("\t\t\t<i class=\"fas fa-search icon_style\"></i>\r\n");
      out.write("\t\t\t<span class=\"tip\">검색</span>\r\n");
      out.write("\t\t</a>\r\n");
      out.write("\t</div>\r\n");
      out.write("\r\n");
      out.write("\t<div class=\"icon_div\" id=\"rd_icon_div_img3\">\r\n");
      out.write("\t\t<a href=\"javascript:doDisplay4();\" class=\"tooltip icon_background\">\r\n");
      out.write("\t\t\t<i class=\"fas fa-clipboard-check icon_style\"></i>\r\n");
      out.write("\t\t\t<span class=\"tip\">할일</span>\r\n");
      out.write("\t\t</a>\r\n");
      out.write("\t</div>\r\n");
      out.write("\r\n");
      out.write("\t<div class=\"icon_div\" id=\"rd_icon_div_img4\">\r\n");
      out.write("\t\t<a href=\"javascript:doDisplay5();\" class=\"tooltip icon_background\">\r\n");
      out.write("\t\t\t<i class=\"fas fa-file icon_style\"></i>\r\n");
      out.write("\t\t\t<span class=\"tip\">파일<span>\r\n");
      out.write("\t\t</a>\r\n");
      out.write("\t</div>\r\n");
      out.write("\r\n");
      out.write("\t<div class=\"icon_div\" id=\"rd_icon_div_img5\">\r\n");
      out.write("\t\t<a href=\"javascript:doDisplay6();\" class=\"tooltip icon_background\">\r\n");
      out.write("\t\t\t<i class=\"fas fa-vote-yea icon_style\"></i>\r\n");
      out.write("\t\t\t<span class=\"tip\">투표<span>\r\n");
      out.write("\t\t</a>\r\n");
      out.write("\t</div>\r\n");
      out.write("\r\n");
      out.write("\t<div class=\"icon_div\" id=\"rd_icon_div_img6\">\r\n");
      out.write("\t\t<a href=\"javascript:doDisplay7();\" class=\"tooltip icon_background\">\r\n");
      out.write("\t\t\t<i class=\"fas fa-sitemap icon_style\"></i>\r\n");
      out.write("\t\t\t<span class=\"tip\">조직도<span>\r\n");
      out.write("\t\t</a>\r\n");
      out.write("\t</div>\r\n");
      out.write("\r\n");
      out.write("\t<div class=\"icon_div\">\r\n");
      out.write("\t\t<a href=\"drivemain.jsp\" class=\"tooltip icon_background\">\r\n");
      out.write("\t\t\t<i class=\"fas fa-hdd icon_style\"></i>\r\n");
      out.write("\t\t\t<span class=\"tip\">드라이브<span>\r\n");
      out.write("\t\t</a>\r\n");
      out.write("\t</div>\r\n");
      out.write("\r\n");
      out.write("\t<div class=\"icon_div\">\r\n");
      out.write("\t\t<a href=\"jandiconnect.jsp\" class=\"tooltip icon_background\">\r\n");
      out.write("\t\t\t<i class=\"fas fa-plug icon_style\"></i>\r\n");
      out.write("\t\t\t<span class=\"tip\">티머 커넥트<span>\r\n");
      out.write("\t\t</a>\r\n");
      out.write("\t</div>\r\n");
      out.write("\r\n");
      out.write("\t<div style=\"padding-top: 250px\">\r\n");
      out.write("\t\t<div class=\"icon_div\" id=\"bookmark_img_but_a\">\r\n");
      out.write("\t\t\t<a href=\"javascript:doDisplay10();\" class=\"tooltip icon_background\">\r\n");
      out.write("\t\t\t\t<i class=\"fas fa-star icon_style\"></i>\r\n");
      out.write("\t\t\t\t<span class=\"tip\">즐겨찾기<span>\r\n");
      out.write("\t\t\t</a>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\r\n");
      out.write("\t\t<div class=\"icon_div\" id=\"mention_img_but_a\">\r\n");
      out.write("\t\t\t<a href=\"javascript:doDisplay11();\" class=\"tooltip icon_background\">\r\n");
      out.write("\t\t\t\t<i class=\"fas fa-at icon_style\"></i>\r\n");
      out.write("\t\t\t\t<span class=\"tip\">멘션<span>\r\n");
      out.write("\t\t\t</a>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\r\n");
      out.write("\t\t<div style=\"clear: both\"></div>\r\n");
      out.write("\t\t<a href=\"javascript:doDisplay12();\" class=\"tooltip\" id=\"profile_logo_img2\">\r\n");
      out.write("\t\t\t<img src=\"");
      out.print(((p_image_url==null)?"https://i.ibb.co/5G1vGSt/image.jpg":p_image_url) );
      out.write("\" class=\"seeprofile_img\" width=\"50px\" height=\"50px\" style = \"border-radius: 70%;\" />\r\n");
      out.write("\t\t\t<span class=\"tip\">프로필 보기</span>\r\n");
      out.write("\t\t</a>\r\n");
      out.write("\t</div>\r\n");
      out.write("</div>\r\n");
      out.write("\r\n");
      out.write("\t\t<!-- <div id=\"right_div\">\r\n");
      out.write("\t\t\t<a href=\"javascript:doDisplay2();\"><img src=\"images/캡처1.PNG\" width=\"50px\" height=\"50px\"/></a>\r\n");
      out.write("\t\t\t<a href=\"javascript:doDisplay3();\"><img src=\"images/캡처2.PNG\" width=\"50px\" height=\"50px\"/></a>\r\n");
      out.write("\t\t\t<a href=\"javascript:doDisplay4();\"><img src=\"images/캡처3.PNG\" width=\"50px\" height=\"50px\"/></a>\r\n");
      out.write("\t\t\t<a href=\"javascript:doDisplay5();\"><img src=\"images/캡처4.PNG\" width=\"50px\" height=\"50px\"/></a>\r\n");
      out.write("\t\t\t<a href=\"javascript:doDisplay6();\"><img src=\"images/캡처5.PNG\" width=\"50px\" height=\"50px\"/></a>\r\n");
      out.write("\t\t\t<a href=\"javascript:doDisplay7();\"><img src=\"images/캡처6.PNG\" width=\"50px\" height=\"50px\"/></a>\r\n");
      out.write("\t\t\t<a href=\"drivemain.html\"><img src=\"images/캡처7.PNG\" width=\"50px\" height=\"50px\"/></a>\r\n");
      out.write("\t\t\t<a href=\"javascript:doDisplay9();\"><img src=\"images/캡처8.PNG\" width=\"50px\" height=\"50px\"/></a>\r\n");
      out.write("\t\t\t<div style=\"padding-top: 340px;\">\r\n");
      out.write("\t\t\t\t<a href=\"javascript:doDisplay10();\"><img src=\"images/캡처9.PNG\" width=\"50px\" height=\"50px\"/></a>\r\n");
      out.write("\t\t\t\t<a href=\"javascript:doDisplay11();\"><img src=\"images/캡처10.PNG\" width=\"50px\" height=\"50px\"/></a>\r\n");
      out.write("\t\t\t\t<div style=\"clear: both;\">\r\n");
      out.write("\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t<a href=\"javascript:doDisplay12();\"><img src=\"images/캡처11.PNG\" width=\"50px\" height=\"50px\"></a>\r\n");
      out.write("\t\t\t</div>\r\n");
      out.write("\t\t</div> -->\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t<!--오른쪽 div 닫는태그-->\r\n");
      out.write("\t</div>\r\n");
      out.write("\t<!-- main 세개 전부 감싸는 닫는태그  -->\r\n");
      out.write("</div>\r\n");
      out.write("<!--제일 큰 화면 div닫는태그 -->\r\n");
      out.write("<script>\r\n");
      out.write("\r\n");
      out.write("\t// 메인페이지 토픽옆 + 버튼 클릭시 효과\r\n");
      out.write("\t$(\"#img_but_15pic\").on(\"click\", function() { \r\n");
      out.write("\t\tvalue = $(\"#topicmenu\").css('display');   // block? none?\r\n");
      out.write("\t\tif(value == 'block') {\r\n");
      out.write("\t\t\t$(\"#topicmenu\").fadeOut(500); \r\n");
      out.write("\t\t} else {\r\n");
      out.write("\t\t\thideAll();\r\n");
      out.write("\t\t\t$(\"#topicmenu\").fadeIn(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t// 메인페이지 토픽옆 + 버튼 클릭시 효과끝\r\n");
      out.write("\r\n");
      out.write("\t// 왼쪽맨위 티머로고 teamchange 버튼 효과\r\n");
      out.write("\t$(\"#team_change_logo_right_butimg\").on(\"click\", function() { \r\n");
      out.write("\t\tvalue = $(\"#teamchange\").css('display');   // block? none?\r\n");
      out.write("\t\tif(value == 'block') {\r\n");
      out.write("\t\t\t$(\"#teamchange\").fadeOut(500); \r\n");
      out.write("\t\t} else{\r\n");
      out.write("\t\t\thideAll()\r\n");
      out.write("\t\t\t$(\"#teamchange\").fadeIn(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t// 왼쪽맨위 티머로고 teamchange 버튼 효과 끝\r\n");
      out.write("\r\n");
      out.write("\t// 저녁고르기 옆 버튼 효과\r\n");
      out.write("\t$(document).on(\"click\",\"#lu_folder_imgbut\" ,function() { \r\n");
      out.write("\t\tf_index = $(this).attr(\"f_index\");\r\n");
      out.write("\t\tvalue = $(\"#folder_seemore\").css('display');   // block? none?\r\n");
      out.write("\t\t$(\"#folder_seemore\").attr(\"f_index\",f_index)\r\n");
      out.write("\t\tif(value == 'block') {\r\n");
      out.write("\t\t\t$(\"#folder_seemore\").fadeOut(500); \r\n");
      out.write("\t\t} else{\r\n");
      out.write("\t\thideAll()\r\n");
      out.write("\t\t\t$(\"#folder_seemore\").fadeIn(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t// 저녁고르기 옆 버튼 효과 끝\r\n");
      out.write("\r\n");
      out.write("\t//채팅 옆 + 버튼효과\r\n");
      out.write("\t$(\"#lu7_img_but\").on(\"click\", function() { \r\n");
      out.write("\t\tvalue = $(\"#chatframe\").css('display');   // block? none?\r\n");
      out.write("\t\tif(value == 'block') {\r\n");
      out.write("\t\t\t$(\"#chatframe\").fadeOut(500); \r\n");
      out.write("\t\t} else{\r\n");
      out.write("\t\thideAll()\r\n");
      out.write("\t\t\t$(\"#chatframe\").fadeIn(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t//채팅 옆 + 버튼효과 끝\r\n");
      out.write("\r\n");
      out.write("\t//오른쪽 메뉴 삼단바 버튼효과\r\n");
      out.write("\t$(\"#rd_icon_div_img\").on(\"click\", function() { \r\n");
      out.write("\t\tvalue = $(\"#rightmenu\").css('display');   // block? none?\r\n");
      out.write("\t\tif(value == 'block') {\r\n");
      out.write("\t\t\t$(\"#rightmenu\").fadeOut(500); \r\n");
      out.write("\t\t} else{\r\n");
      out.write("\t\thideAll()\r\n");
      out.write("\t\t\t$(\"#rightmenu\").fadeIn(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t//오른쪽 메뉴 삼단바 버튼효과 끝\r\n");
      out.write("\r\n");
      out.write("\t//검색 버튼 효과\r\n");
      out.write("\t$(\"#rd_icon_div_img2\").on(\"click\", function() { \r\n");
      out.write("\t\tvalue = $(\"#searchA\").css('display');   \r\n");
      out.write("\t\tif(value == 'block') {\r\n");
      out.write("\t\t\t$(\"#searchA\").fadeOut(500); \r\n");
      out.write("\t\t} else{\r\n");
      out.write("\t\t\thideAll()\r\n");
      out.write("\t\t\t$(\"#searchA\").fadeIn(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t//검색 버튼 효과 끝\r\n");
      out.write("\r\n");
      out.write("\t//할일 버튼 효과\r\n");
      out.write("\t$(\"#rd_icon_div_img3\").on(\"click\", function() { \r\n");
      out.write("\t\tvalue = $(\"#todo\").css('display');   \r\n");
      out.write("\t\tif(value == 'block') {\r\n");
      out.write("\t\t\t$(\"#todo\").fadeOut(500); \r\n");
      out.write("\t\t} else{\r\n");
      out.write("\t\thideAll()\r\n");
      out.write("\t\t\t$(\"#todo\").fadeIn(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t//할일 버튼 효과끝\r\n");
      out.write("\r\n");
      out.write("\t//파일 버튼 효과\r\n");
      out.write("\t$(\"#rd_icon_div_img4\").on(\"click\", function() { \r\n");
      out.write("\t\tvalue = $(\"#file_main\").css('display');  \r\n");
      out.write("\t\tif(value == 'block') {\r\n");
      out.write("\t\t\t$(\"#file_main\").fadeOut(500); \r\n");
      out.write("\t\t} else{\r\n");
      out.write("\t\thideAll()\r\n");
      out.write("\t\t\t$(\"#file_main\").fadeIn(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t//파일 버튼 효과 끝\r\n");
      out.write("\t\r\n");
      out.write("\t//투표 버튼효과\r\n");
      out.write("\t$(\"#rd_icon_div_img5\").on(\"click\", function() { \r\n");
      out.write("\t\tvalue = $(\"#vote\").css('display');   \r\n");
      out.write("\t\tif(value == 'block') {\r\n");
      out.write("\t\t\t$(\"#vote\").fadeOut(500); \r\n");
      out.write("\t\t} else{\r\n");
      out.write("\t\thideAll()\r\n");
      out.write("\t\t\t$(\"#vote\").fadeIn(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t//투표 버튼효과 끝\r\n");
      out.write("\r\n");
      out.write("\t//조직도 버튼효과\r\n");
      out.write("\t$(\"#rd_icon_div_img6\").on(\"click\", function() { \r\n");
      out.write("\t\tvalue = $(\"#orga\").css('display');   \r\n");
      out.write("\t\tif(value == 'block') {\r\n");
      out.write("\t\t\t$(\"#orga\").fadeOut(500); \r\n");
      out.write("\t\t} else{\r\n");
      out.write("\t\thideAll()\r\n");
      out.write("\t\t\t$(\"#orga\").fadeIn(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t//조직도 버튼효과끝\r\n");
      out.write("\t\r\n");
      out.write("\t//즐겨찾기 버튼효과\r\n");
      out.write("\t$(\"#bookmark_img_but_a\").on(\"click\", function() { \r\n");
      out.write("\t\tvalue = $(\"#bookmark_main_div\").css('display');   \r\n");
      out.write("\t\tif(value == 'block') {\r\n");
      out.write("\t\t\t$(\"#bookmark_main_div\").fadeOut(500); \r\n");
      out.write("\t\t} else{\r\n");
      out.write("\t\thideAll()\r\n");
      out.write("\t\t\t$(\"#bookmark_main_div\").fadeIn(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t//즐겨찾기 버튼효과 끝\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t//멘션 버튼 효과\r\n");
      out.write("\t$(\"#mention_img_but_a\").on(\"click\", function() { \r\n");
      out.write("\t\tvalue = $(\"#mention_main_div\").css('display');   \r\n");
      out.write("\t\tif(value == 'block') {\r\n");
      out.write("\t\t\t$(\"#mention_main_div\").fadeOut(500); \r\n");
      out.write("\t\t} else{\r\n");
      out.write("\t\thideAll()\r\n");
      out.write("\t\t\t$(\"#mention_main_div\").fadeIn(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t//멘션 버튼 효과끝\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t//프로필 버튼 효과\r\n");
      out.write("\t$(\"#profile_logo_img2\").on(\"click\", function() { \r\n");
      out.write("\t\tvalue = $(\"#myDIV\").css('display');   \r\n");
      out.write("\t\tif(value == 'block') {\r\n");
      out.write("\t\t\t$(\"#myDIV\").fadeOut(500); \r\n");
      out.write("\t\t} else{\r\n");
      out.write("\t\thideAll()\r\n");
      out.write("\t\t\t$(\"#myDIV\").fadeIn(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\t//프로필 버튼 효과끝\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t$(\"#rm_new_member_invite_but\").on(\"click\", function() { \r\n");
      out.write("\t\tvalue = $(\"#invite_newmember\").css('display');   \r\n");
      out.write("\t\tif(value == 'block') {\r\n");
      out.write("\t\t\t$(\"#invite_newmember\").fadeOut(500); \r\n");
      out.write("\t\t} else{\r\n");
      out.write("\t\thideAll()\r\n");
      out.write("\t\t\t$(\"#invite_newmember\").fadeIn(500);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
